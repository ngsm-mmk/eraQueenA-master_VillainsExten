@洗脑催眠
PRINTFORMW 那么，要对那个奴隶进行洗脑催眠呢？ 您目前持有的金额：${MONEY} 
PRINTL （自动剔除人外、非上級陷落、劳役、育兒中或者压力过大的奴隶）
DRAWLINE
$INPUT_X
U = 0
REPEAT CHARANUM
    ;主人不可
	SIF COUNT == MASTER
		CONTINUE
	;人外不可
	SIF TALENT:COUNT:人外
		CONTINUE
	;非上级陷落不可
	SIF !(TALENT:COUNT:6 || TALENT:COUNT:7 || TALENT:COUNT:8)
		CONTINUE
	;压力过大不可
	SIF CFLAG:COUNT:10 > 70
		CONTINUE
    ;娼馆、出租劳役中
    SIF CFLAG:COUNT:12 > 0
        CONTINUE
    C = COUNT
    ;育儿室
    CALL CHECK_CHILD_CARE
    SIF RESULT == 1
        CONTINUE
		PRINTFORM [  {COUNT}] %CALLNAME:COUNT,12,LEFT%
	;換行
	U += 1
	SIF U%3 == 0
	PRINTL
REND
		PRINTFORML [1999] 还是算了吧
INPUT
IF RESULT == 1999
	JUMP QUEST_EVENT_1_10
ELSEIF RESULT > 0 && RESULT < CHARANUM
	CALL 洗脑催眠_1
ELSEIF RESULT < 0 || RESULT >= CHARANUM
	GOTO INPUT_X
ENDIF
@洗脑催眠_1
A = RESULT
PRINTFORML
PRINTFORML
DRAWLINE
PRINTFORML 选择了『 %NAME:A% 』作为洗脑的对象
DRAWLINE
PRINTW 那么，要进行那一种洗脑催眠呢？
SIF NO:A == 200
PRINTFORML ( %NAME:A%为特殊角色无法进行性格洗脑)
PRINTL
SIF MONEY >= 100000 && NO:A != 200
PRINTL [300] - 性格转换($10万)
SIF MONEY >= 100000
PRINTL [301] - 转换上级陷落属性($10万)
SIF !TALENT:A:164 && MONEY >= 100000 && TALENT:A:140
PRINTL [302] - 洗脑成Omega($10万)
SIF TALENT:A:164 && MONEY >= 20000
PRINTL [303] - 清除Omega洗脑($2万)
;需要称号功能on
SIF FLAG:2 & 2 && !TALENT:A:947 && MONEY >= 20000
PRINTL [304] - 洗脑成病娇($2万)
SIF FLAG:2 & 2 && TALENT:A:947 && MONEY >= 20000
PRINTL [305] - 修复病娇属性($2万)
PRINTL [400] - 不，还是算了吧
$INPUT_DATE2
INPUT
IF RESULT == 400
   JUMP QUEST_EVENT_1_10
ELSEIF RESULT == 300
	GOTO INPUT_DATE3
ELSEIF RESULT == 301
	GOTO INPUT_DATE4
ELSEIF RESULT == 302
	GOTO INPUT_DATE5
ELSEIF RESULT == 303
	GOTO INPUT_DATE6
ELSEIF RESULT == 304
	GOTO INPUT_DATE7
ELSEIF RESULT == 305
	GOTO INPUT_DATE8
ELSE
	GOTO INPUT_DATE2
ENDIF
$INPUT_DATE3
	PRINTFORML 要将『 %NAME:A% 』洗脑成哪种性格？
	IF CFLAG:A:600 != 1
		PRINTFORM [ 1]%"开朗元气型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF	
	IF CFLAG:A:600 != 2
		PRINTFORM [ 2]%"稳重温柔型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF	
	IF CFLAG:A:600 != 3
		PRINTFORML [ 3]%"认真固执型",18,LEFT%
	ELSE
		PRINTFORML [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 4
		PRINTFORM [ 4]%"花花公子型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 5
		PRINTFORM [ 5]%"别扭傲娇型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 6
		PRINTFORML [ 6]%"目中无人高傲型",18,LEFT%
	ELSE
		PRINTFORML [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 7
		PRINTFORM [ 7]%"举止温和腹黑型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 8
		PRINTFORM [ 8]%"阴暗无口冷漠型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 9
		PRINTFORML [ 9]%"蛮不讲理精英型",18,LEFT%
	ELSE
		PRINTFORML [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 10
		PRINTFORM [10]%"任性爱撒娇型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 11
		PRINTFORM [11]%"直率纯真型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 12
		PRINTFORML [12]%"无常识自恋型",18,LEFT%
	ELSE
		PRINTFORML [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 13
		PRINTFORM [13]%"天然电波型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 66
		PRINTFORM [66]%"痞气油嘴滑舌型",18,LEFT%
	ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 67
		PRINTFORML [67]%"心机白莲花型",18,LEFT%
	ELSE
		PRINTFORML [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF CFLAG:A:600 != 68
		PRINTFORML [68]%"创伤自暴自弃型",18,LEFT%
	ELSE
		PRINTFORML [-1]%"一一一一一一",18,LEFT%
	ENDIF
	IF !FLAG:1505 
		IF CFLAG:A:600 != 94
		PRINTFORM [94]%"自订性格94",18,LEFT%
		ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
		ENDIF
		IF CFLAG:A:600 != 95
		PRINTFORM [95]%"自订性格95",18,LEFT%
		ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
		ENDIF
		IF CFLAG:A:600 != 96
		PRINTFORML [96]%"自订性格96",18,LEFT%
		ELSE
		PRINTFORML [-1]%"一一一一一一",18,LEFT%
		ENDIF
		IF CFLAG:A:600 != 97
		PRINTFORM [97]%"自订性格97",18,LEFT%
		ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
		ENDIF
		IF CFLAG:A:600 != 98
		PRINTFORM [98]%"自订性格98",18,LEFT%
		ELSE
		PRINTFORM [-1]%"一一一一一一",18,LEFT%
		ENDIF
		IF CFLAG:A:600 != 99
		PRINTFORML [99]%"自订性格99",18,LEFT%
		ELSE
		PRINTFORML [-1]%"一一一一一一",18,LEFT%
		ENDIF
	ENDIF
$INPUT_DATE3_1
INPUT
IF RESULT > 99 || RESULT < 1
	GOTO INPUT_DATE3_1
ELSE
	PRINTFORML
	SELECTCASE RESULT
		CASE 1
			性格名称 = 开朗元气型
		CASE 2
			性格名称 = 稳重温柔型
		CASE 3
			性格名称 = 认真固执型
		CASE 4
			性格名称 = 花花公子型
		CASE 5
			性格名称 = 别扭傲娇型
		CASE 6
			性格名称 = 目中无人高傲型
		CASE 7
			性格名称 = 举止温和腹黑型
		CASE 8
			性格名称 = 阴暗无口冷漠型
		CASE 9
			性格名称 = 蛮不讲理精英型
		CASE 10
			性格名称 = 任性爱撒娇型
		CASE 11
			性格名称 = 直率纯真型
		CASE 12
			性格名称 = 无常识自恋型
		CASE 13
			性格名称 = 天然电波型
		CASE 66
			性格名称 = 痞气油嘴滑舌型
		CASE 67
			性格名称 = 心机白莲花型
		CASE 68
			性格名称 = 创伤自暴自弃型
		CASE 94
			性格名称 = 自订性格94
		CASE 95
			性格名称 = 自订性格95
		CASE 96
			性格名称 = 自订性格96
		CASE 97
			性格名称 = 自订性格97
		CASE 98
			性格名称 = 自订性格98
		CASE 99	
			性格名称 = 自订性格99
		CASEELSE
			GOTO INPUT_DATE3
	ENDSELECT
	性格 = RESULT
ENDIF
	PRINTFORML 确定把『 %NAME:A% 』的性格洗脑为%性格名称%吗？
	PRINTL [410] - 是，同时"转换"性格立绘
	PRINTL [411] - 是，但是"保留"当前立绘
	PRINTL [412] - 否
INPUT
IF RESULT == 412
    PRINTW 已经取消洗脑，那么，期待您下次的光临。
	RETURN 0
ELSEIF RESULT == 410
ELSEIF RESULT == 411
	IF CSTR:A:66 == ""
		IF CFLAG:A:666 > 0
			CSTR:A:66 '= "F" + TOSTR(CFLAG:A:666)
		ELSE
			CSTR:A:66 '= "600_" + TOSTR(CFLAG:A:600)
		ENDIF
	ENDIF
ENDIF
	PRINTFORMW 等等，有劳您先签好这份洗脑同意书哦～
	PRINTFORMW 好的，已经确认完毕了，马上为您的奴隶进行深度而优质的洗脑～
	PRINTFORMW ……………
	PRINTFORMW ………
	PRINTFORMW …
	PRINTFORMW %NAME:A%的性格現在是%性格名称%了 
	CFLAG:A:600 = 性格
	PRINTFORML 要清除『 %NAME:A% 』被调教的记忆吗？
	PRINTL [414] - 是
	PRINTL [415] - 否
INPUT
	IF RESULT == 414
		;依赖度归0
			CFLAG:A:2 = 0
		;调教（base）flag归0
		REPEAT 20
			LOCAL = COUNT + 200
			CFLAG:A:LOCAL = 0
		REND
		;调教（com）flag归0
		REPEAT 201
			LOCAL = COUNT + 300
			CFLAG:A:LOCAL = 0
		REND
		PRINTFORMW %NAME:A%被调教的记忆已清空！
		PRINTFORML 被洗脑完的%NAME:A%扶着脑袋，一幅昏昏沉沉的样子
		PRINTFORML 当%NAME:MASTER%要带他离开时，他似乎惶恐地挣扎了一下
		PRINTFORML 但是由於体力不支，最後还是被%NAME:MASTER%强行拉回去了……
		PRINTFORMW ……………
		PRINTFORMW ………
		PRINTFORMW …
		PRINTFORMW %NAME:A%的压力增加了 25 ！
		PRINTFORMW
		CFLAG:A:10 += 25
	ELSE
		PRINTFORMW 被洗脑完的%NAME:A%扶着脑袋，一幅昏昏沉沉的样子
		PRINTFORMW 当%NAME:MASTER%要带他离开时，他露出了恍惚的微笑……
		PRINTFORMW ……………
		PRINTFORMW ………
		PRINTFORMW …
		PRINTFORMW %NAME:A%的压力增加了 20 ！
		CFLAG:A:10 += 20
	ENDIF
	PRINTFORMW 花费了＄10万
	PRINTFORMW 谢谢您的光临～

	MONEY -= 100000
	RETURN 0
$INPUT_DATE4	
	PRINTFORML 要将『 %NAME:A% 』转换成哪种上级陷落属性呢？
	SIF !TALENT:A:6
	PRINTL [420] - 相亲相爱	
	SIF !TALENT:A:7
	PRINTL [421] - 娼妇	
	SIF !TALENT:A:8
	PRINTL [422] - 隶属	
	PRINTL
	PRINTL [430] - 取消转换
$INPUT_DATE4_1
INPUT
IF RESULT == 430
	RETURN 0	
ELSEIF RESULT == 420
	PRINTFORMW 好的，马上为您的奴隶进行深度而优质的洗脑～
	PRINTFORMW ……………
	PRINTFORMW ………
	PRINTFORMW … 
	IF TALENT:A:7
		PRINTFORMW %NAME:A%失去了『 %TALENTNAME:7% 』
		TALENT:A:7 = 0
	ELSEIF TALENT:A:8
		PRINTFORMW %NAME:A%失去了『 %TALENTNAME:8% 』
		TALENT:A:8 = 0
	ENDIF
	PRINTFORMW %NAME:A%获得了『 %TALENTNAME:6% 』
		TALENT:A:6 = 1
ELSEIF RESULT == 421
	IF TALENT:A:6
		PRINTFORMW %NAME:A%失去了『 %TALENTNAME:6% 』
		TALENT:A:6 = 0
	ELSEIF TALENT:A:8
		PRINTFORMW %NAME:A%失去了『 %TALENTNAME:8% 』
		TALENT:A:8 = 0
	ENDIF
	PRINTFORMW %NAME:A%获得了『 %TALENTNAME:7% 』
		TALENT:A:7 = 1
ELSEIF RESULT == 422
	IF TALENT:A:6
		PRINTFORMW %NAME:A%失去了『 %TALENTNAME:6% 』
		TALENT:A:6 = 0
	ELSEIF TALENT:A:7
		PRINTFORMW %NAME:A%失去了『 %TALENTNAME:7% 』
		TALENT:A:7 = 0
	ENDIF
	PRINTFORMW %NAME:A%获得了『 %TALENTNAME:8% 』
		TALENT:A:8 = 1
ELSE
 GOTO INPUT_DATE4_1
ENDIF
	PRINTFORMW %NAME:A%的压力增加了 20 ！
	CFLAG:A:10 += 20
	PRINTFORMW 花费了＄10万
	PRINTFORMW 谢谢您的光临～
	MONEY -= 100000
	RETURN 0
	
$INPUT_DATE5	
	PRINTFORML 要将『 %NAME:A% 』洗脑成Omega吗？
	PRINTL [601] - 是
	PRINTL [602] - 还是算了
	INPUT
	IF RESULT == 601
	PRINTFORMW %NAME:A%成为了『 %TALENTNAME:164% 』
	ELSE
    PRINTW 已经取消洗脑，那么，期待您下次的光临。
	RETURN 0
	ENDIF
	PRINTFORMW %NAME:A%的压力增加了 20 ！
	CFLAG:A:10 += 20
	TALENT:A:164 = 1
	PRINTFORMW 花费了＄10万
	PRINTFORMW 谢谢您的光临～
	MONEY -= 100000
	RETURN 0
$INPUT_DATE6	
	PRINTFORML 要消除『 %NAME:A% 』的Omega吗？
	PRINTL [601] - 是
	PRINTL [602] - 还是算了
	INPUT
	IF RESULT == 601
	PRINTFORMW %NAME:A%失去了『 %TALENTNAME:164% 』
	ELSE
    PRINTW 那么，期待您下次的光临。
	RETURN 0
	ENDIF
	TALENT:A:164 = 0
	PRINTFORMW 花费了＄2万
	PRINTFORMW 谢谢您的光临～
	MONEY -= 20000
	RETURN 0
$INPUT_DATE7	
	PRINTFORML 要将『 %NAME:A% 』洗脑成病娇吗？
	PRINTL [601] - 是
	PRINTL [602] - 还是算了
	INPUT
	IF RESULT == 601
	PRINTFORMW %NAME:A%成为了『 %TALENTNAME:947% 』
	ELSE
    PRINTW 已经取消洗脑，那么，期待您下次的光临。
	RETURN 0
	ENDIF
	PRINTFORMW %NAME:A%的压力增加了 20 ！
	CFLAG:A:10 += 20
	TALENT:A:947 = 1
	PRINTFORMW 花费了＄2万
	PRINTFORMW 谢谢您的光临～
	MONEY -= 20000
	RETURN 0
$INPUT_DATE8	
	PRINTFORML 要修复『 %NAME:A% 』的病娇吗？
	PRINTL [601] - 是
	PRINTL [602] - 还是算了
	INPUT
	IF RESULT == 601
	PRINTFORMW %NAME:A%失去了『 %TALENTNAME:947% 』
	ELSE
    PRINTW 那么，期待您下次的光临。
	RETURN 0
	ENDIF
	TALENT:A:947 = 0
	PRINTFORMW 花费了＄2万
	PRINTFORMW 谢谢您的光临～
	MONEY -= 20000
	RETURN 0
@学习催眠
CLEARLINE LINECOUNT
PRINTL 
PRINTL 
PRINTL 欸！？要学习催眠吗？那本店的财源不就……
PRINTL 嘛，没事，客户就是上帝，您的需求必须要尽量满足。
PRINTL 
PRINTL 那么，学习的费用需要＄50万……您意下如何呢？
PRINTL 
$INPUT_LOOP
PRINTL [1050] - 好坑好贵，不学了
PRINTL [1051] - 技能给我，钱拿去
INPUT
IF RESULT == 1050
	PRINTL
    PRINTW 欸，这样吗？那您还需要哪些服务呢？
	RETURN 0
ELSEIF RESULT == 1051
	IF MONEY >= 500000
		MONEY -= 500000
		催眠技术 = 1
		每日催眠可实行次数 = 1
		PRINTFORMW 承蒙您的惠顾	
		PRINTFORMW 那么，就来开始催眠技能的传授吧
		PRINTFORMW ……………
		PRINTFORMW ………
		PRINTFORMW …
		PRINTFORMW %NAME:MASTER%习得了『催眠技能』！
		PRINTFORMW %NAME:MASTER%当前的催眠技能为 LV:1
		CALL 催眠暗号
		PRINTFORML
		PRINTFORML		
		PRINTFORMW 以下是使用催眠以及如何升级催眠等级的说明
		PRINTFORMW 如果觉得内容太多，请放心，之後也能继续来本店重听	
		CALL 催眠说明	
		PRINTFORMW	那么，催眠的传授到此结束了，那您还需要哪些服务呢？
	ELSE
		PRINTFORMW 抱歉，您的所持金不足呢？
	ENDIF
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF
@催眠暗号
PRINTFORML
PRINTFORML 请指定一个暗号作为您催眠开始的暗示
PRINTFORML
PRINTBUTTON "[ 打个响指 ]", 2001
PRINTBUTTON "  [ 摆动项链 ]", 2002
PRINTBUTTON "  [ 摇铃 ]", 2003
PRINTBUTTON "  [ 鼓掌 ]", 2004
PRINTBUTTON "  [ 自行输入 ]", 2005
INPUT
	SELECTCASE RESULT
	CASE 2001
		催眠暗示 = 打个响指
	CASE 2002
		催眠暗示 = 摆动项链
	CASE 2003
		催眠暗示 = 摇铃
	CASE 2004
		催眠暗示 = 鼓掌
	CASE 2005
		PRINTFORML 请输入开启催眠暗示的动作
		INPUTS
		催眠暗示 = %RESULTS%
	ENDSELECT
PRINTFORMW 将『%催眠暗示%』设定为开启催眠的动作了！
@催眠说明
DRAWLINE
PRINTL 催眠说明
DRAWLINE
PRINTL 
PRINTW 刚习得催眠技能之後，在还没有练习的状态下，催眠技巧都是１级
PRINTW 升级的方式就是在『个人房间』中进行催眠来获得催眠点数进行提昇
PRINTW 每个奴隶催眠的难度不同，催眠的成功率与给的催眠的经验也不一样
PRINTW 奴隶的被催眠的难度与调教难度相关，可从奴隶状态栏里面进行查看
PRINTL 
PRINTW 调教难度等同催眠难度，以 S . A . B . C . D . E . F . G 区分
PRINTW S级为无法催眠，A级为极难催眠，以此类推，G级则为极其容易催眠
PRINTW 再来，奴隶对於主人的好感依赖值，也会对催眠控制的难度造成影响
PRINTW 整体难度越高的奴隶，虽然催眠越难成功，但给的催眠点数也会越多
PRINTW 至於催眠所得的点数，除了可以提昇催眠等级之外，还有其他的用途
PRINTW 比如可以用来改变奴隶的『常识』，可以安抚奴隶情绪降低压力等等
PRINTL 
PRINTW 而奴隶的『常识』被改变後，会让日常事件与房间某些互动产生变化
PRINTW 催眠有时间的限制，『常识』的改变只在催眠控制的期限内才能生效
PRINTW 
PRINTW 催眠的期限跟催眠等级等同，1级为1天，最高9级的催眠可以维持9天
PRINTW 催眠等级可以在『状态』栏位里，点选主人的名字，用点数进行升级
PRINTL 
DRAWLINE
@催眠升级(ARG)
SIF ARG != MASTER
	RETURN 0
SIF !催眠技术
	RETURN 0
IF 催眠技术 == 9
	PRINTW 催眠技能已达最大等级
ELSE
	CALL 催眠EXP顯示(ARG)
	PRINTFORMW 花费催眠点数 {升級催眠EXP} 升级到 LV:{催眠技术+1} 吗？
ENDIF
IF 催眠EXP >= 升級催眠EXP
	PRINTBUTTON "[ 确定 ]", 01
ELSE
	SETCOLOR 0x969696
	PRINTBUTTON "[ 点数不足 ]", 99
	RESETCOLOR
ENDIF
	PRINTBUTTON "  [ 离开 ]", 02
INPUT
	SELECTCASE RESULT
		CASE 1
			催眠EXP -= 升級催眠EXP
			SIF 催眠技术 < 9
				催眠技术 += 1
			每日催眠可实行次数 += 1
			PRINTFORMW 扣除了催眠点数 {升級催眠EXP}！
			PRINTFORMW 催眠技能升级到 LV:{催眠技术}了！
			 升級催眠EXP = 0
		CASE 2
			RETURN 0
	ENDSELECT
@催眠EXP顯示(ARG)	
IF 催眠技术 == 1
		升級催眠EXP = 100
ELSEIF 催眠技术 == 2
		升級催眠EXP = 200
ELSEIF 催眠技术 == 3
		升級催眠EXP = 400
ELSEIF 催眠技术 == 4
		升級催眠EXP = 800
ELSEIF 催眠技术 == 5
		升級催眠EXP = 1500
ELSEIF 催眠技术 == 6
		升級催眠EXP = 3000
ELSEIF 催眠技术 == 7
		升級催眠EXP = 5000
ELSEIF 催眠技术 == 8
		升級催眠EXP = 10000
ENDIF
