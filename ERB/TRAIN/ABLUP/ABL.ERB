@SHOW_JUEL
DRAWLINE
T = TARGET
CALL SHOW_INFO_EXP
A = 0
X = 0

REPEAT 13
	IF COUNT == 12
		X = 100
	ELSE
		X = COUNT
	ENDIF

	PRINTFORM %PALAMNAME:X%之珠：

	;表示位置そろえる
	IF JUEL:X < 10
		PRINT       
	ELSEIF JUEL:X < 100
		PRINT      
	ELSEIF JUEL:X < 1000
		PRINT     
	ELSEIF JUEL:X < 10000
		PRINT    
	ELSEIF JUEL:X < 100000
		PRINT   
	ELSEIF JUEL:X < 1000000
		PRINT  
	ENDIF
	PRINTV JUEL:X

	;改行or表示位置あけ
	IF A%4 == 3
		PRINTL 
	ELSE
		PRINT 　
	ENDIF
	A = A + 1
REND
PRINTL 　
DRAWLINE

@SHOW_ABLUP_SELECT
REPEAT 25
	IF COUNT == 0
		X = 0
		CALL ISABLUP0
	ELSEIF COUNT == 1
		X = 1
		CALL ISABLUP1
	ELSEIF COUNT == 2
		X = 2
		CALL ISABLUP2
	ELSEIF COUNT == 3
		X = 3
		CALL ISABLUP3
	ELSEIF COUNT == 4
		X = 4
		CALL ISABLUP4
	ELSEIF COUNT == 5
		X = 5
		CALL ISABLUP5
	ELSEIF COUNT == 6
		X = 6
		CALL ISABLUP6
	ELSEIF COUNT == 7
		X = 7
		CALL ISABLUP7
	ELSEIF COUNT == 8
		X = 8
		CALL ISABLUP8
	ELSEIF COUNT == 9
		X = 9
		CALL ISABLUP9
	ELSEIF COUNT == 10
		X = 10
		CALL ISABLUP10
	ELSEIF COUNT == 11
		X = 11
		CALL ISABLUP11
	ELSEIF COUNT == 12
		X = 12
		CALL ISABLUP12
	ELSEIF COUNT == 13
		X = 13
		CALL ISABLUP13
	ELSEIF COUNT == 14
		X = 14
		CALL ISABLUP14
	ELSEIF COUNT == 15
		X = 15
		CALL ISABLUP15
	ELSEIF COUNT == 16
		X = 16
		CALL ISABLUP16
	ELSEIF COUNT == 17
		X = 17
		CALL ISABLUP17
	ELSEIF COUNT == 18
		X = 18
		CALL ISABLUP18
	ELSEIF COUNT == 19
		X = 19
		CALL ISABLUP19
	ELSEIF COUNT == 20
		X = 20
		CALL ISABLUP20
	ELSEIF COUNT == 21
		X = 21
		CALL ISABLUP21
	ELSEIF COUNT == 22
		X = 22
		CALL ISABLUP22
	ELSEIF COUNT == 23
		X = 23
		CALL ISABLUP23
	ELSEIF COUNT == 24
		X = 24
		CALL ISABLUP24
	ENDIF
	SIF X == 22 && (!TALENT:羽翅 && !TALENT:骨翅 && !TALENT:蝠翼 && !TALENT:虫翼)
		CONTINUE
	SIF X == 23 && (!TALENT:兽尾 && !TALENT:鱼尾 && !TALENT:蛇尾)
		CONTINUE
	SIF X == 24 && (!TALENT:兽耳 && !TALENT:尖耳)
		CONTINUE
	SIF (X == 11 || X == 17) && MALE(TARGET)
		CONTINUE
	SIF X == 4 && TALENT:140
		CONTINUE
	SIF (X == 20 || X == 21) && !MALE(TARGET)
		CONTINUE
	PRINTFORM [{COUNT,2}]%ABLNAME:X,12,LEFT%：LV{ABL:X,2}
	IF TALENT:恋慕 || TALENT:相亲相爱
		IF COUNT == 3 || COUNT == 4 || COUNT == 5 || COUNT == 6 || COUNT == 15 || COUNT == 18 || COUNT == 19 || COUNT == 22 || COUNT == 23 || COUNT == 24
			BAR ABL:X ,7, 7
			PRINT    
		ELSE
			BAR ABL:X, 10, 10
		ENDIF
	ELSEIF TALENT:淫乱 || TALENT:娼妇
		IF COUNT == 1 || COUNT == 8 || COUNT == 11 || COUNT == 14 || COUNT == 17 || COUNT == 20 || COUNT == 21
			BAR ABL:X, 10, 10
		ELSEIF COUNT == 3 || COUNT == 4 || COUNT == 5 || COUNT == 6 || COUNT == 15 || COUNT == 18 || COUNT == 19 || COUNT == 22 || COUNT == 23 || COUNT == 24
			BAR ABL:X, 7, 7
			PRINT    
		ELSE
			BAR ABL:X, 5, 5
			PRINT      
		ENDIF
	ELSEIF TALENT:服从 || TALENT:隶属
		IF COUNT == 0 || COUNT == 2 || COUNT == 7 || COUNT == 9 || COUNT == 10 || COUNT == 12 || COUNT == 13 || COUNT == 14
			BAR ABL:X, 10, 10
		ELSE
			BAR ABL:X, 5, 5
			PRINT      
		ENDIF
	ELSE
		BAR ABL:X, 5, 5
		PRINT      
	ENDIF
	SIF RESULT == 1
		PRINT 　◇可以升级了◇
	PRINTL 
REND

CALL ISABLUP99
PRINTFORM [99]%MARKNAME:3,12,LEFT%：LV{MARK:反抗刻印,2}
BAR MARK:反抗刻印, 3, 3
PRINT         
SIF RESULT == 1
	PRINT 　◇可以消去刻印了◇
PRINTL 
DRAWLINE
PRINTL [100] 能力值提高结束

@USERABLUP
IF RESULT == 100
	CALL JUJUN_UP_CHECK
	CALL YOKUBO_UP_CHECK
	CALL RYOURI_UP_CHECK
	CALL SKINSHIP_UP_CHECK
	BEGIN TURNEND
	RETURN 1
ENDIF

RETURN 0