;--------------------------------------------------
;尿道バルーン
;--------------------------------------------------
;扩张气球を魔改造
@COM153
PRINTL 尿道气球
STR:0 = 尿道气球


;-------------------------------------------------
;ソースの計算
;-------------------------------------------------
;性压抑、抵抗持ちには、抑郁ソース追加
SIF TALENT:32 || TALENT:34
	SOURCE:16 += 600

A = 160

;EXP:Ｕ拡張经验をみる
IF EXP:49 < EXPLV:1
	TIMES A , 3.00
ELSEIF EXP:49 < EXPLV:2
	TIMES A , 2.50
ELSEIF EXP:49 < EXPLV:3
	TIMES A , 2.00
ELSEIF EXP:49 < EXPLV:4
	TIMES A , 1.00
ELSEIF EXP:49 < EXPLV:5
	TIMES A , 0.80
ELSE
	TIMES A , 0.60
ENDIF

;胆怯
SIF TALENT:10
	TIMES A , 2.00
;缺乏感情
SIF TALENT:22
	TIMES A , 0.60
;小人体形
SIF TALENT:142
	TIMES A , 2.00

LOSEBASE:0 += A
LOSEBASE:1 += A * 2

SOURCE:13 = 800
SOURCE:7 = 400
SOURCE:9 = 500
SOURCE:17 = 1000

;ABL:Ｃ感觉をみる
IF ABL:3 == 0
	SOURCE:0 = 80
	SOURCE:14 = 300
ELSEIF ABL:3 == 1
	SOURCE:0 = 250
	SOURCE:14 = 800
ELSEIF ABL:3 == 2
	SOURCE:0 = 600
	SOURCE:14 = 1400
ELSEIF ABL:3 == 3
	SOURCE:0 = 1000
	SOURCE:14 = 1800
ELSEIF ABL:3 == 4
	SOURCE:0 = 1300
	SOURCE:14 = 2100
ELSE
	SOURCE:0 = 1700
	SOURCE:14 = 2400
ENDIF

;ABL:受虐属性をみる
IF ABL:9 == 0
	SOURCE:7 += 2000
	SOURCE:15 = 1000
	SOURCE:14 += 200
	SOURCE:17 += 1000
	SOURCE:18 = 2000
ELSEIF ABL:9 == 1
	SOURCE:7 += 1600
	SOURCE:15 = 2000	
	SOURCE:14 += 500
	SOURCE:17 += 1000
	SOURCE:18 = 1000
ELSEIF ABL:9 == 2
	SOURCE:7 += 1200
	SOURCE:15 = 1000
	SOURCE:14 += 800
	SOURCE:17 += 1000
	SOURCE:18 = 500
ELSEIF ABL:9 == 3
	SOURCE:7 += 800
	SOURCE:15 = 1000
	SOURCE:14 += 1200
	SOURCE:17 += 500
	SOURCE:18 = 100
ELSEIF ABL:9 == 4
	SOURCE:7 += 600
	SOURCE:15 = 1000	
	SOURCE:14 += 1500
	SOURCE:17 += 100
	SOURCE:18 = 0
ELSE
	SOURCE:7 += 400
	SOURCE:15 = 1000
	SOURCE:14 += 2000
	SOURCE:17 += 50
	SOURCE:18 = 0
ENDIF

;PALAM:润滑をみる
IF PALAM:4 < PALAMLV:1
	TIMES SOURCE:0 , 0.40
	SOURCE:7 += 1600
ELSEIF PALAM:4 < PALAMLV:2
	TIMES SOURCE:0 , 0.80
	SOURCE:7 += 1000
ELSEIF PALAM:4 < PALAMLV:3
	TIMES SOURCE:0 , 1.00
	SOURCE:7 += 600
ELSEIF PALAM:4 < PALAMLV:4
	TIMES SOURCE:0 , 1.40
	SOURCE:7 += 250
ELSE
	TIMES SOURCE:0 , 1.80
	SOURCE:7 += 120
ENDIF

;PALAM:情欲をみる
IF PALAM:6 < PALAMLV:1
	TIMES SOURCE:0 , 0.80
	TIMES SOURCE:14 , 0.60
ELSEIF PALAM:6 < PALAMLV:2
	TIMES SOURCE:0 , 0.90
	TIMES SOURCE:14 , 0.80
ELSEIF PALAM:6 < PALAMLV:3
	TIMES SOURCE:0 , 1.00
	TIMES SOURCE:14 , 1.00
ELSEIF PALAM:6 < PALAMLV:4
	TIMES SOURCE:0 , 1.10
	TIMES SOURCE:14 , 1.20
ELSE
	TIMES SOURCE:0 , 1.20
	TIMES SOURCE:14 , 1.40
ENDIF

;EXP:Ｕ经验をみる
IF EXP:6 < EXPLV:1
	TIMES SOURCE:0 , 0.20
	SOURCE:7 += 8000
ELSEIF EXP:6 < EXPLV:2
	TIMES SOURCE:0 , 0.60
	SOURCE:7 += 3600
ELSEIF EXP:6 < EXPLV:3
	TIMES SOURCE:0 , 1.00
	SOURCE:7 += 1200
ELSEIF EXP:6 < EXPLV:4
	TIMES SOURCE:0 , 1.20
	SOURCE:7 += 300
ELSEIF EXP:6 < EXPLV:5
	TIMES SOURCE:0 , 1.40
	SOURCE:7 += 30
ELSE
	TIMES SOURCE:0 , 1.60
	SOURCE:7 += 0
ENDIF

;ABL:顺从をみる
IF ABL:0 == 0
	TIMES SOURCE:0 , 0.80
ELSEIF ABL:0 == 1
	TIMES SOURCE:0 , 0.90
ELSEIF ABL:0 == 2
	TIMES SOURCE:0 , 1.00
ELSEIF ABL:0 == 3
	TIMES SOURCE:0 , 1.10
ELSEIF ABL:0 == 4
	TIMES SOURCE:0 , 1.20
ELSE
	TIMES SOURCE:0 , 1.30
ENDIF

;男性
SIF TALENT:140
	TIMES SOURCE:7 , 4.50
;扶她
SIF TALENT:139
	TIMES SOURCE:7 , 4.50
;小人体形
SIF TALENT:142
	TIMES SOURCE:7 , 2.00


;Ｃ敏感、钝感をみる
;快Ｃ自体のチェックは後でまとめてやる
IF TALENT:101
	TIMES SOURCE:7 , 1.50
	TIMES SOURCE:14 , 1.50
	TIMES SOURCE:17 , 1.50
ELSEIF TALENT:102
	TIMES SOURCE:7 , 0.60
	TIMES SOURCE:14 , 0.60
	TIMES SOURCE:17 , 0.60
ENDIF

;处女で贞操重视
SIF TALENT:0 == 1 && TALENT:30
	SOURCE:14 /= 3


IF EXP:6 <= 5
	EXP:50 += 1
	PRINTL 异常经验＋1
ENDIF

EXP:6 += 3
PRINTFORML %EXPNAME:6%＋３
EXP:49 += 2
PRINTFORML %EXPNAME:49%＋２

T = 0

CALL KOJO_MESSAGE_COM
;着脱の処理
IF TEQUIP:39 == 0
	TEQUIP:39 = 1
ELSE
	TEQUIP:39 = 0
ENDIF

RETURN 1

;--------------------------------------------------
;尿道バルーン插入中
;--------------------------------------------------
@EQUIP_COM153
PRINTL ＜尿道气球插入中＞

A = 80

;EXP:Ｕ拡張经验をみる
IF EXP:49 < EXPLV:1
	TIMES A , 3.00
ELSEIF EXP:49 < EXPLV:2
	TIMES A , 2.50
ELSEIF EXP:49 < EXPLV:3
	TIMES A , 2.00
ELSEIF EXP:49 < EXPLV:4
	TIMES A , 1.00
ELSEIF EXP:49 < EXPLV:5
	TIMES A , 0.80
ELSE
	TIMES A , 0.60
ENDIF

;胆怯
SIF TALENT:10
	TIMES A , 2.00
;缺乏感情
SIF TALENT:22
	TIMES A , 0.60

LOSEBASE:0 += A
LOSEBASE:1 += A * 2

;ABL:Ｃ感觉をみる
IF ABL:3 == 0
	A = 80
	B = 300
ELSEIF ABL:3 == 1
	A = 250
	B = 800
ELSEIF ABL:3 == 2
	A = 600
	B = 1400
ELSEIF ABL:3 == 3
	A = 1000
	B = 1800
ELSEIF ABL:3 == 4
	A = 1300
	B = 2100
ELSE
	A = 1700
	B = 2400
ENDIF

;EXP:尿道经验をみる
IF EXP:6 < EXPLV:1
	TIMES A , 0.50
	C = 2000
ELSEIF EXP:6 < EXPLV:2
	TIMES A , 1.00
	C = 300
ELSEIF EXP:6 < EXPLV:3
	TIMES A , 1.10
	C = 50
ELSEIF EXP:6 < EXPLV:4
	TIMES A , 1.20
	C = 10
ELSEIF EXP:6 < EXPLV:5
	TIMES A , 1.40
	C = 0
ELSE
	TIMES A , 1.60
	C = 0
ENDIF

;PALAM:润滑をみる
IF PALAM:4 < PALAMLV:1
	TIMES A , 0.40
	C += 800
ELSEIF PALAM:4 < PALAMLV:2
	TIMES A , 0.80
	C += 500
ELSEIF PALAM:4 < PALAMLV:3
	TIMES A , 1.00
	C += 300
ELSEIF PALAM:4 < PALAMLV:4
	TIMES A , 1.40
	C += 120
ELSE
	TIMES A , 1.80
	C += 100
ENDIF

;PALAM:情欲をみる
IF PALAM:6 < PALAMLV:1
	TIMES A , 0.80
ELSEIF PALAM:6 < PALAMLV:2
	TIMES A , 0.90
ELSEIF PALAM:6 < PALAMLV:3
	TIMES A , 1.00
ELSEIF PALAM:6 < PALAMLV:4
	TIMES A , 1.10
ELSE
	TIMES A , 1.20
ENDIF

;ABL:顺从をみる
IF ABL:0 == 0
	TIMES A , 0.80
ELSEIF ABL:0 == 1
	TIMES A , 0.90
ELSEIF ABL:0 == 2
	TIMES A , 1.00
ELSEIF ABL:0 == 3
	TIMES A , 1.10
ELSEIF ABL:0 == 4
	TIMES A , 1.20
ELSE
	TIMES A , 1.30
ENDIF

;男性
SIF TALENT:140
	TIMES C , 4.50
;扶她
SIF TALENT:139
	TIMES C , 4.50	
;小人体形
SIF TALENT:142
	TIMES C , 2.00

;Ｃ敏感、钝感をみる
;快Ｃ自体のチェックは後でまとめてやる
IF TALENT:101
	TIMES A , 1.50
	TIMES B , 1.50
	TIMES C , 1.50
ELSEIF TALENT:102
	TIMES A , 0.60
	TIMES B , 0.60
	TIMES C , 0.60
ENDIF

;处女で贞操重视
SIF TALENT:0 == 1 && TALENT:30
	B /= 3

SOURCE:0 += A
SOURCE:14 += B
SOURCE:7 += C
SOURCE:17 += B


EXP:6 += 2
PRINTFORML %EXPNAME:6%＋2
EXP:49 += 1
PRINTFORML %EXPNAME:49%＋1

;蔷薇经验とか加算
CALL COM_EXP(1)

SIF TEQUIP:25
	T += 2
	
;依赖度ベクトル
TFLAG:33 = 5

;依赖度補正値(服从で1、隶属で2）
IF TALENT:5 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:8 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF
	
RETURN 1

;--------------------------------------------------
;调教時メッセージ
;--------------------------------------------------
@TRAIN_MESSAGE_COM153
SIF FLAG:6 == 0
	RETURN 0

PRINTL 
IF TEQUIP:39
	PRINTFORML 把导尿管从%CALLNAME:TARGET%的尿道口里拔出来后…
	IF EXP:49 < EXPLV:1
		PRINTFORML %CALLNAME:TARGET%的尿道口慢慢闭合上了
	ELSEIF EXP:49 < EXPLV:2
		PRINTFORML %CALLNAME:TARGET%的尿道口一边抽动着一边慢慢闭合
	ELSEIF EXP:49 < EXPLV:3
		PRINTFORML %CALLNAME:TARGET%的尿道口持续张开着
	ELSEIF EXP:49 < EXPLV:4
		PRINTFORML %CALLNAME:TARGET%被扩松的尿道口怎么都无法恢复
	ELSE
		PRINTFORML 从%CALLNAME:TARGET%的尿道口里可以清楚看到里面的情形。
	ENDIF
ELSE
	PRINTFORML %CALLNAME:TARGET%的尿道被插入尿道气球，往里输送了空气…
ENDIF
