;--------------------------------------------------
;触手肛拡張
;--------------------------------------------------
@COM305
PRINTL 触手肛门扩张
STR:0 = 触手肛门扩张


;-------------------------------------------------
;ソースの計算
;-------------------------------------------------
LOSEBASE:0 += 240
LOSEBASE:1 += 130

SOURCE:7 = 1200
SOURCE:13 = 1200
SOURCE:14 = 1200
SOURCE:17 = 2200
SOURCE:8 = 1100

;ABL:Ａ感觉をみる
IF ABL:5 == 0
	SOURCE:2 = 10
	SOURCE:4 = 10
	SOURCE:14 = 100
ELSEIF ABL:5 == 1
	SOURCE:2 = 30
	SOURCE:4 = 30
	SOURCE:14 = 700
ELSEIF ABL:5 == 2
	SOURCE:2 = 500
	SOURCE:4 = 100
	SOURCE:14 = 1500
ELSEIF ABL:5 == 3
	SOURCE:2 = 1000
	SOURCE:4 = 200
	SOURCE:14 = 3000
ELSEIF ABL:5 == 4
	SOURCE:2 = 1700
	SOURCE:4 = 450
	SOURCE:14 = 5000
ELSE
	SOURCE:2 = 2200
	SOURCE:4 = 750
	SOURCE:14 = 8000
ENDIF

;EXP:Ａ经验をみる
IF EXP:1 < EXPLV:1
	TIMES SOURCE:2 , 0.10
	SOURCE:7 += 20000
ELSEIF EXP:1 < EXPLV:2
	TIMES SOURCE:2 , 0.30
	SOURCE:7 += 12000
ELSEIF EXP:1 < EXPLV:3
	TIMES SOURCE:2 , 0.50
	SOURCE:7 += 5000
ELSEIF EXP:1 < EXPLV:4
	TIMES SOURCE:2 , 1.00
	SOURCE:7 += 1800
ELSEIF EXP:1 < EXPLV:5
	TIMES SOURCE:2 , 1.40
	SOURCE:7 += 1000
ELSE
	TIMES SOURCE:2 , 1.60
	SOURCE:7 += 600
ENDIF

;触手经验を見る
IF EXP:55 < EXPLV:1
	TIMES LOSEBASE:0 , 3.00
	TIMES LOSEBASE:1 , 3.00
	SOURCE:7 += 1000
ELSEIF EXP:55 < EXPLV:2
	TIMES LOSEBASE:0 , 2.50
	TIMES LOSEBASE:1 , 2.50
	SOURCE:7 += 800
ELSEIF EXP:55 < EXPLV:3
	TIMES LOSEBASE:0 , 2.00
	TIMES LOSEBASE:1 , 2.00
	SOURCE:7 += 500
ELSEIF EXP:55 < EXPLV:4
	TIMES LOSEBASE:0 , 1.00
	TIMES LOSEBASE:1 , 1.00
	SOURCE:7 += 100
ELSEIF EXP:55 < EXPLV:5
	TIMES LOSEBASE:0 , 0.80
	TIMES LOSEBASE:1 , 0.80
	SOURCE:7 += 50
ELSE
	TIMES LOSEBASE:0 , 0.60
	TIMES LOSEBASE:1 , 0.60
ENDIF

;触手经验を見る
IF EXP:55 < EXPLV:1
	SOURCE:9 = 1500
	TIMES SOURCE:8 , 0.50
ELSEIF EXP:55 < EXPLV:2
	TIMES LOSEBASE:0 , 0.90
	TIMES LOSEBASE:1 , 0.90
	SOURCE:9 = 1700
	TIMES SOURCE:8 , 0.80
ELSEIF EXP:55 < EXPLV:3
	TIMES LOSEBASE:0 , 0.80
	TIMES LOSEBASE:1 , 0.80
	SOURCE:9 = 2000
ELSEIF EXP:55 < EXPLV:4
	TIMES LOSEBASE:0 , 0.70
	TIMES LOSEBASE:1 , 0.70
	SOURCE:9 = 2500
	TIMES A , 1.20
ELSEIF EXP:55 < EXPLV:5
	TIMES LOSEBASE:0 , 0.60
	TIMES LOSEBASE:1 , 0.60
	SOURCE:9 = 3300
	TIMES SOURCE:8 , 1.50
ELSE
	TIMES LOSEBASE:0 , 0.50
	TIMES LOSEBASE:1 , 0.50
	SOURCE:9 = 4200
	TIMES SOURCE:8 , 1.80
ENDIF

;PALAM:润滑をみる
IF PALAM:4 < PALAMLV:1
	TIMES SOURCE:2 , 0.40
	SOURCE:7 += 10000
ELSEIF PALAM:4 < PALAMLV:2
	TIMES SOURCE:2 , 0.80
	SOURCE:7 += 3600
ELSEIF PALAM:4 < PALAMLV:3
	TIMES SOURCE:2 , 1.00
	SOURCE:7 += 1200
ELSEIF PALAM:4 < PALAMLV:4
	TIMES SOURCE:2 , 1.40
	SOURCE:7 += 200
ELSE
	TIMES SOURCE:2 , 1.80
	SOURCE:7 += 100
ENDIF

;PALAM:情欲をみる
IF PALAM:6 < PALAMLV:1
	TIMES SOURCE:2 , 0.60
	TIMES SOURCE:14 , 0.60
ELSEIF PALAM:6 < PALAMLV:2
	TIMES SOURCE:2 , 0.80
	TIMES SOURCE:14 , 0.80
ELSEIF PALAM:6 < PALAMLV:3
	TIMES SOURCE:2 , 1.00
	TIMES SOURCE:14 , 1.00
ELSEIF PALAM:6 < PALAMLV:4
	TIMES SOURCE:2 , 1.20
	TIMES SOURCE:14 , 1.20
ELSE
	TIMES SOURCE:2 , 1.40
	TIMES SOURCE:14 , 1.40
ENDIF

;小人体形
SIF TALENT:142
	TIMES SOURCE:7 , 2.00

;Ａ敏感、钝感をみる
;快Ａ自体のチェックは後でまとめてやる
IF TALENT:105
	TIMES SOURCE:7 , 1.50
	TIMES SOURCE:14 , 1.50
	TIMES SOURCE:17 , 1.50
ELSEIF TALENT:106
	TIMES SOURCE:7 , 0.60
	TIMES SOURCE:14 , 0.60
	TIMES SOURCE:17 , 0.60
ENDIF

;处女で贞操重视
SIF TALENT:0 == 1 && TALENT:30
	SOURCE:14 /= 3

;汚れ処理
STAIN:4 |= 32

IF EXP:53 == 0
	EXP:50 += 1
	PRINTL 异常经验＋1
ENDIF
EXP:1 += 25
PRINTL Ａ经验＋25
EXP:53 += 1
PRINTL Ａ扩张经验＋1

觸手 = 1

;触手装着中は依赖度ベクトル強制变更
;依赖度ベクトル
TFLAG:33 = 5

;依赖度補正値(服从で1、隶属で2　強制变更なので、これまでの数値を重置）
IF TALENT:5 && ASSIPLAY == 0
	TFLAG:30 = 2
ELSEIF TALENT:8 && ASSIPLAY == 0
	TFLAG:30 = 4
ENDIF

RETURN 1


