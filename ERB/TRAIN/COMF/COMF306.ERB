;--------------------------------------------------
;触手両穴拡張
;--------------------------------------------------
;聞こえるか?こちらは新世代触手。
;あまり时间が無いのでよく聞いてくれ。
;奴をイかせるためには君の助けが必要だ。
;我々は別々の穴から同時に插入し、
;2箇所の性感和服腰带で互いに1回ずつ绝顶させなければならない。
;無論、どちらか片方だけでは駄目だ。2人とも成功しない限り、我々に未来は無い。
;……選択の余地はなさそうだな。
;よし、行くぞ！
@COM306
PRINTL 触手两穴扩张
STR:0 = 触手两穴扩张


;V经验を伴う指令のフラグ(处女膜再生对応)
TFLAG:19 = 1
SIF (TALENT:3 || TALENT:6) && ASSIPLAY == 0 && EXP:0 == 0
	TFLAG:20 = 1

;处女喪失時のテ接吻ト用処理
SIF TFLAG:60 && (PREVCOM == 60 || PREVCOM == 61 || PREVCOM == 66 || PREVCOM == 68 || PREVCOM == 69) && ((ASSIPLAY && TFLAG:50) || (ASSIPLAY == 0 && TFLAG:50 == 0)) && TFLAG:31
	TFLAG:31 = 2

;-------------------------------------------------
;ソースの計算
;-------------------------------------------------
LOSEBASE:0 += 320
LOSEBASE:1 += 200

SOURCE:7 = 2200
SOURCE:10 = 2800
SOURCE:11 = 500
SOURCE:13 = 2500
SOURCE:14 = 2700
SOURCE:17 = 7500
SOURCE:8 = 2300

;ABL:Ｖ感觉をみる
IF ABL:4 == 0
	SOURCE:1 = 40
	SOURCE:4 = 50
ELSEIF ABL:4 == 1
	SOURCE:1 = 150
	SOURCE:4 = 150
ELSEIF ABL:4 == 2
	SOURCE:1 = 400
	SOURCE:4 = 250
ELSEIF ABL:4 == 3
	SOURCE:1 = 1000
	SOURCE:4 = 350
ELSEIF ABL:4 == 4
	SOURCE:1 = 1700
	SOURCE:4 = 600
ELSE
	SOURCE:1 = 2200
	SOURCE:4 = 850
ENDIF

;ABL:Ａ感觉をみる
IF ABL:5 == 0
	SOURCE:2 = 10
	SOURCE:4 = 10
	SOURCE:14 = 100
ELSEIF ABL:5 == 1
	SOURCE:2 = 30
	SOURCE:4 = 30
	SOURCE:14 = 700
ELSEIF ABL:5 == 2
	SOURCE:2 = 500
	SOURCE:4 = 100
	SOURCE:14 = 1500
ELSEIF ABL:5 == 3
	SOURCE:2 = 1000
	SOURCE:4 = 200
	SOURCE:14 = 3000
ELSEIF ABL:5 == 4
	SOURCE:2 = 1700
	SOURCE:4 = 450
	SOURCE:14 = 5000
ELSE
	SOURCE:2 = 2200
	SOURCE:4 = 750
	SOURCE:14 = 8000
ENDIF

;EXP:Ｖ经验をみる
IF EXP:0 < EXPLV:1
	TIMES SOURCE:1 , 0.20
	SOURCE:7 += 20000
	SOURCE:10 += 2000
	IF TALENT:PLAYER:140 == 0
		EXP:50 += 1
		PRINTFORML %EXPNAME:50%＋１
	ENDIF
ELSEIF EXP:0 < EXPLV:2
	TIMES SOURCE:1 , 0.60
	SOURCE:7 += 300
ELSEIF EXP:0 < EXPLV:3
	TIMES SOURCE:1 , 1.00
	SOURCE:7 += 50
ELSEIF EXP:0 < EXPLV:4
	TIMES SOURCE:1 , 1.20
	SOURCE:7 += 10
ELSEIF EXP:0 < EXPLV:5
	TIMES SOURCE:1 , 1.40
	SOURCE:7 += 0
ELSE
	TIMES SOURCE:1 , 1.60
	SOURCE:7 += 0
ENDIF

;EXP:Ａ经验をみる
IF EXP:1 < EXPLV:1
	TIMES SOURCE:2 , 0.10
	SOURCE:7 += 5000
	SOURCE:18 += 1000
ELSEIF EXP:1 < EXPLV:2
	TIMES SOURCE:2 , 0.30
	SOURCE:7 += 2000
	SOURCE:18 += 1000
ELSEIF EXP:1 < EXPLV:3
	TIMES SOURCE:2 , 0.50
	SOURCE:7 += 2000
	SOURCE:18 += 1000
ELSEIF EXP:1 < EXPLV:4
	TIMES SOURCE:2 , 1.00
	SOURCE:7 += 2000
	SOURCE:18 += 1000
ELSEIF EXP:1 < EXPLV:5
	TIMES SOURCE:2 , 1.40
	SOURCE:7 += 1000
	SOURCE:18 += 200
ELSE
	TIMES SOURCE:2 , 1.60
	SOURCE:18 += 600
ENDIF

;触手经验を見る
IF EXP:55 < EXPLV:1
	TIMES LOSEBASE:0 , 3.00
	TIMES LOSEBASE:1 , 3.00
	SOURCE:7 += 1000
ELSEIF EXP:55 < EXPLV:2
	TIMES LOSEBASE:0 , 2.50
	TIMES LOSEBASE:1 , 2.50
	SOURCE:7 += 800
ELSEIF EXP:55 < EXPLV:3
	TIMES LOSEBASE:0 , 2.00
	TIMES LOSEBASE:1 , 2.00
	SOURCE:7 += 500
ELSEIF EXP:55 < EXPLV:4
	TIMES LOSEBASE:0 , 1.00
	TIMES LOSEBASE:1 , 1.00
	SOURCE:7 += 100
ELSEIF EXP:55 < EXPLV:5
	TIMES LOSEBASE:0 , 0.80
	TIMES LOSEBASE:1 , 0.80
	SOURCE:7 += 50
ELSE
	TIMES LOSEBASE:0 , 0.60
	TIMES LOSEBASE:1 , 0.60
ENDIF

;触手经验を見る
IF EXP:55 < EXPLV:1
	SOURCE:9 = 1500
	TIMES SOURCE:8 , 0.50
ELSEIF EXP:55 < EXPLV:2
	TIMES LOSEBASE:0 , 0.90
	TIMES LOSEBASE:1 , 0.90
	SOURCE:9 = 1700
	TIMES SOURCE:8 , 0.80
ELSEIF EXP:55 < EXPLV:3
	TIMES LOSEBASE:0 , 0.80
	TIMES LOSEBASE:1 , 0.80
	SOURCE:9 = 2000
ELSEIF EXP:55 < EXPLV:4
	TIMES LOSEBASE:0 , 0.70
	TIMES LOSEBASE:1 , 0.70
	SOURCE:9 = 2500
	TIMES A , 1.20
ELSEIF EXP:55 < EXPLV:5
	TIMES LOSEBASE:0 , 0.60
	TIMES LOSEBASE:1 , 0.60
	SOURCE:9 = 3300
	TIMES SOURCE:8 , 1.50
ELSE
	TIMES LOSEBASE:0 , 0.50
	TIMES LOSEBASE:1 , 0.50
	SOURCE:9 = 4200
	TIMES SOURCE:8 , 1.80
ENDIF

;PALAM:润滑をみる
IF PALAM:4 < PALAMLV:1
	TIMES SOURCE:1 , 0.20
	TIMES SOURCE:2 , 0.20
	SOURCE:18 += 1000
	SOURCE:7 += 1900
	TIMES SOURCE:20 , 9.00
ELSEIF PALAM:4 < PALAMLV:2
	TIMES SOURCE:1 , 0.60
	TIMES SOURCE:2 , 0.40
	SOURCE:18 += 800
	SOURCE:7 += 1250
	TIMES SOURCE:20 , 3.00
ELSEIF PALAM:4 < PALAMLV:3
	TIMES SOURCE:1 , 1.00
	TIMES SOURCE:2 , 0.60
	SOURCE:18 += 600
	SOURCE:7 += 1000
	TIMES SOURCE:20 , 1.50
ELSEIF PALAM:4 < PALAMLV:4
	TIMES SOURCE:1 , 1.30
	TIMES SOURCE:2 , 1.00
	SOURCE:18 += 200
	SOURCE:7 += 200
	TIMES SOURCE:20 , 0.30
ELSE
	TIMES SOURCE:1 , 1.60
	TIMES SOURCE:2 , 1.30
	TIMES SOURCE:7 , 0.10
ENDIF

;PALAM:情欲をみる
IF PALAM:6 < PALAMLV:1
	TIMES SOURCE:1 , 0.60
	TIMES SOURCE:2 , 0.60
	TIMES SOURCE:14 , 0.60
ELSEIF PALAM:6 < PALAMLV:2
	TIMES SOURCE:1 , 0.80
	TIMES SOURCE:2 , 0.80
	TIMES SOURCE:14 , 0.80
ELSEIF PALAM:6 < PALAMLV:3
	TIMES SOURCE:1 , 1.00
	TIMES SOURCE:2 , 1.00
	TIMES SOURCE:14 , 1.00
ELSEIF PALAM:6 < PALAMLV:4
	TIMES SOURCE:1 , 1.20
	TIMES SOURCE:2 , 1.20
	TIMES SOURCE:14 , 1.20
ELSE
	TIMES SOURCE:1 , 1.40
	TIMES SOURCE:2 , 1.40
	TIMES SOURCE:14 , 1.40
ENDIF

;ABL:顺从をみる
IF ABL:0 == 0
	TIMES SOURCE:1 , 0.50
	TIMES SOURCE:2 , 0.70
	TIMES SOURCE:11 , 0.60
	TIMES SOURCE:18, 2.00
ELSEIF ABL:0 == 1
	TIMES SOURCE:1 , 0.80
	TIMES SOURCE:2 , 0.90
	TIMES SOURCE:11 , 0.80
	TIMES SOURCE:18, 1.20
ELSEIF ABL:0 == 2
	TIMES SOURCE:1 , 1.00
	TIMES SOURCE:2 , 1.00
	TIMES SOURCE:11 , 1.00
	TIMES SOURCE:18, 1.00
ELSEIF ABL:0 == 3
	TIMES SOURCE:1 , 1.20
	TIMES SOURCE:2 , 1.10
	TIMES SOURCE:11 , 1.20
	TIMES SOURCE:18, 0.60
ELSEIF ABL:0 == 4
	TIMES SOURCE:1 , 1.40
	TIMES SOURCE:2 , 1.20
	TIMES SOURCE:11 , 1.40
	TIMES SOURCE:18, 0.30
ELSE
	TIMES SOURCE:1 , 1.70
	TIMES SOURCE:2 , 1.30
	TIMES SOURCE:11 , 1.60
	TIMES SOURCE:18, 0.10
ENDIF

;矮小体形
SIF TALENT:128
	TIMES SOURCE:20 , 3.00

;Ａ敏感、钝感をみる
;快Ａ自体のチェックは後でまとめてやる
IF TALENT:105
	TIMES SOURCE:7 , 1.50
	TIMES SOURCE:18 , 1.50
	TIMES SOURCE:14 , 1.50
	TIMES SOURCE:17 , 1.50
ELSEIF TALENT:106
	TIMES SOURCE:7 , 0.60
	TIMES SOURCE:18 , 0.60
	TIMES SOURCE:14 , 0.60
	TIMES SOURCE:17 , 0.60
ENDIF

;贞操重视
IF TALENT:30
	IF TALENT:1 == 1
		TIMES SOURCE:11 , 0.60
		TIMES SOURCE:18, 5.00
	ELSE
		TIMES SOURCE:11 , 0.60
		TIMES SOURCE:18, 1.80
	ENDIF
;贞操淡漠
ELSEIF TALENT:31
	IF TALENT:1 == 1
		TIMES SOURCE:18, 0.50
	ELSE
		TIMES SOURCE:18, 0.30
	ENDIF
ENDIF

;汚れ処理
STAIN:3 |= 32
STAIN:4 |= 32

IF EXP:52 == 0 && EXP:53 == 0
	EXP:50 += 2
	PRINTL 异常经验＋2
ELSEIF EXP:52 == 0 || EXP:53 == 0
	EXP:50 += 1
	PRINTL 异常经验＋1
ENDIF
EXP:0 += 25
EXP:1 += 25
PRINTL Ｖ经验＋25
PRINTL Ａ经验＋25
EXP:52 += 2
EXP:53 += 2
PRINTL Ｖ扩张经验＋2
PRINTL Ａ扩张经验＋2

觸手 = 2

;触手装着中は依赖度ベクトル強制变更
;依赖度ベクトル
TFLAG:33 = 5

;依赖度補正値(服从で1、隶属で2　強制变更なので、これまでの数値を重置）
IF TALENT:5 && ASSIPLAY == 0
	TFLAG:30 = 2
ELSEIF TALENT:8 && ASSIPLAY == 0
	TFLAG:30 = 4
ENDIF

RETURN 1


