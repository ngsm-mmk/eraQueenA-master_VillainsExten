;--------------------------------------------------
;触手产卵
;--------------------------------------------------
@COM307
PRINTL 触手产卵
STR:0 = 触手产卵


;V经验を伴う指令のフラグ(处女膜再生对応)
TFLAG:19 = 1
SIF (TALENT:3 || TALENT:6) && ASSIPLAY == 0 && EXP:0 == 0
	TFLAG:20 = 1

;处女喪失時のテ接吻ト用処理
SIF TFLAG:60 && (PREVCOM == 60 || PREVCOM == 61 || PREVCOM == 66 || PREVCOM == 68 || PREVCOM == 69) && ((ASSIPLAY && TFLAG:50) || (ASSIPLAY == 0 && TFLAG:50 == 0)) && TFLAG:31
	TFLAG:31 = 2

A = 70
B = 80

;触手经验
IF EXP:55 < EXPLV:1
	TIMES A , 1.00
	TIMES B , 1.40
ELSEIF EXP:55 < EXPLV:2
	TIMES A , 0.90
	TIMES B , 1.20
ELSEIF EXP:55 < EXPLV:3
	TIMES A , 0.80
	TIMES B , 1.00
ELSEIF EXP:55 < EXPLV:4
	TIMES A , 0.70
	TIMES B , 0.80
ELSEIF EXP:55 < EXPLV:5
	TIMES A , 0.60
	TIMES B , 0.60
ELSE
	TIMES A , 0.50
	TIMES B , 0.40
ENDIF

LOSEBASE:0 += A
LOSEBASE:1 += B

;ABL:Ｖ感觉をみる
IF ABL:4 == 0
	SOURCE:1 = 80
	SOURCE:14 = 300
ELSEIF ABL:4 == 1
	SOURCE:1 = 250
	SOURCE:14 = 800
ELSEIF ABL:4 == 2
	SOURCE:1 = 600
	SOURCE:14 = 1400
ELSEIF ABL:4 == 3
	SOURCE:1 = 1000
	SOURCE:14 = 1800
ELSEIF ABL:4 == 4
	SOURCE:1 = 1300
	SOURCE:14 = 2100
ELSE
	SOURCE:1 = 1700
	SOURCE:14 = 2400
ENDIF

;ABL:受虐属性をみる
IF ABL:9 < 1
	SOURCE:7 = 2000
	SOURCE:15 = 1000
	SOURCE:14 = 200
	SOURCE:17 = 1000
	SOURCE:18 = 2000
ELSEIF ABL:9 <2
	SOURCE:7 = 1600
	SOURCE:15 = 2000
	SOURCE:14 = 500
	SOURCE:17 = 1000
	SOURCE:18 = 1000
ELSEIF ABL:9 < 3
	SOURCE:7 = 1200
	SOURCE:15 = 1000
	SOURCE:14 = 800
	SOURCE:17 = 1000
	SOURCE:18 = 500
ELSEIF ABL:9 < 4
	SOURCE:7 = 800
	SOURCE:15 = 1000
	SOURCE:14 = 1200
	SOURCE:17 = 1000
	SOURCE:18 = 100
ELSEIF ABL:9 < 5
	SOURCE:7 = 600
	SOURCE:15 = 1000
	SOURCE:14 = 1500
	SOURCE:17 = 1000
	SOURCE:18 = 0
ELSE
	SOURCE:7 = 400
	SOURCE:15 = 1000
	SOURCE:14 = 2000
	SOURCE:17 = 1000
	SOURCE:18 = 0
ENDIF

;PALAM:润滑をみる
IF PALAM:4 < PALAMLV:1
	TIMES SOURCE:1 , 0.40
	SOURCE:7 += 800
ELSEIF PALAM:4 < PALAMLV:2
	TIMES SOURCE:1 , 0.80
	SOURCE:7 += 500
ELSEIF PALAM:4 < PALAMLV:3
	TIMES SOURCE:1 , 1.00
	SOURCE:7 += 300
ELSEIF PALAM:4 < PALAMLV:4
	TIMES SOURCE:1 , 1.40
	SOURCE:7 += 120
ELSE
	TIMES SOURCE:1 , 1.80
	SOURCE:7 += 100
ENDIF

;PALAM:情欲をみる
IF PALAM:6 < PALAMLV:1
	TIMES SOURCE:1 , 0.80
ELSEIF PALAM:6 < PALAMLV:2
	TIMES SOURCE:1 , 0.90
ELSEIF PALAM:6 < PALAMLV:3
	TIMES SOURCE:1 , 1.00
ELSEIF PALAM:6 < PALAMLV:4
	TIMES SOURCE:1 , 1.10
ELSE
	TIMES SOURCE:1 , 1.20
ENDIF

;ABL:顺从をみる
IF ABL:0 == 0
	TIMES SOURCE:1 , 0.80
ELSEIF ABL:0 == 1
	TIMES SOURCE:1 , 0.90
ELSEIF ABL:0 == 2
	TIMES SOURCE:1 , 1.00
ELSEIF ABL:0 == 3
	TIMES SOURCE:1 , 1.10
ELSEIF ABL:0 == 4
	TIMES SOURCE:1 , 1.20
ELSE
	TIMES SOURCE:1 , 1.30
ENDIF

;小人体形
SIF TALENT:142
	TIMES SOURCE:7 , 2.00

;性压抑、抵抗持ちには、抑郁ソース追加
SIF TALENT:32 || TALENT:34
	SOURCE:16 += 500

;贞操重视持ちで服从、隶属持ち以外には常に反抗のソースを追加する（做爱系のみ）
SIF TALENT:30 && (TALENT:5 == 0 && TALENT:8 == 0)
	SOURCE:18 += 1000

;Ｖ敏感、钝感をみる
;快Ｖ自体のチェックは後でまとめてやる
IF TALENT:103
	TIMES SOURCE:7 , 1.50
	TIMES SOURCE:14 , 1.50
	TIMES SOURCE:17 , 1.50
ELSEIF TALENT:104
	TIMES SOURCE:7 , 0.60
	TIMES SOURCE:14 , 0.60
	TIMES SOURCE:17 , 0.60
ENDIF

SIF TALENT:0 == 1 && TALENT:30
	SOURCE:14 /= 3

PRINTL 
PRINTL Ｖ经验＋10
EXP:0 += 10
觸手 = 1

STAIN:6 |= 4
STAIN:6 |= 32

CALL KOJO_MESSAGE_COM
;卵プラグの着脱
SIF TEQUIP:13 == 0
	TEQUIP:13 = 1

TEQUIP:41 += 1
RETURN 1

;--------------------------------------------------
;触手膣内産卵中
;--------------------------------------------------
@EQUIP_COM307
PRINTL ＜触手阴道产卵中＞
CALL EQUIP_MESSAGE_COM307

A = 110
B = 90

;触手经验
IF EXP:55 < EXPLV:1
	TIMES A , 1.00
	TIMES B , 1.40
ELSEIF EXP:55 < EXPLV:2
	TIMES A , 0.90
	TIMES B , 1.20
ELSEIF EXP:55 < EXPLV:3
	TIMES A , 0.80
	TIMES B , 1.00
ELSEIF EXP:55 < EXPLV:4
	TIMES A , 0.70
	TIMES B , 0.80
ELSEIF EXP:55 < EXPLV:5
	TIMES A , 0.60
	TIMES B , 0.60
ELSE
	TIMES A , 0.50
	TIMES B , 0.40
ENDIF

LOSEBASE:0 += A
LOSEBASE:1 += B

;ABL:Ｖ感觉をみる
IF ABL:4 == 0
	A = 80
	B = 300
ELSEIF ABL:4 == 1
	A = 250
	B = 800
ELSEIF ABL:4 == 2
	A = 600
	B = 1400
ELSEIF ABL:4 == 3
	A = 1000
	B = 1800
ELSEIF ABL:4 == 4
	A = 1300
	B = 2100
ELSE
	A = 1700
	B = 2400
ENDIF

;EXP:Ｖ经验をみる
IF EXP:0 < EXPLV:1
	TIMES A , 0.50
	C = 2000
ELSEIF EXP:0 < EXPLV:2
	TIMES A , 1.00
	C = 300
ELSEIF EXP:0 < EXPLV:3
	TIMES A , 1.10
	C = 50
ELSEIF EXP:0 < EXPLV:4
	TIMES A , 1.20
	C = 10
ELSEIF EXP:0 < EXPLV:5
	TIMES A , 1.40
	C = 0
ELSE
	TIMES A , 1.60
	C = 0
ENDIF

;PALAM:润滑をみる
IF PALAM:4 < PALAMLV:1
	TIMES A , 0.40
	C += 800
ELSEIF PALAM:4 < PALAMLV:2
	TIMES A , 0.80
	C += 500
ELSEIF PALAM:4 < PALAMLV:3
	TIMES A , 1.00
	C += 300
ELSEIF PALAM:4 < PALAMLV:4
	TIMES A , 1.40
	C += 120
ELSE
	TIMES A , 1.80
	C += 100
ENDIF

;PALAM:情欲をみる
IF PALAM:6 < PALAMLV:1
	TIMES A , 0.80
ELSEIF PALAM:6 < PALAMLV:2
	TIMES A , 0.90
ELSEIF PALAM:6 < PALAMLV:3
	TIMES A , 1.00
ELSEIF PALAM:6 < PALAMLV:4
	TIMES A , 1.10
ELSE
	TIMES A , 1.20
ENDIF

;ABL:顺从をみる
IF ABL:0 == 0
	TIMES A , 0.80
ELSEIF ABL:0 == 1
	TIMES A , 0.90
ELSEIF ABL:0 == 2
	TIMES A , 1.00
ELSEIF ABL:0 == 3
	TIMES A , 1.10
ELSEIF ABL:0 == 4
	TIMES A , 1.20
ELSE
	TIMES A , 1.30
ENDIF

;小人体形
SIF TALENT:142
	TIMES C , 2.00

;性压抑、抵抗持ちには、抑郁ソース追加
SIF TALENT:32 || TALENT:34
	SOURCE:16 += 500

;贞操重视持ちで服从、隶属持ち以外には常に反抗のソースを追加する（做爱系のみ）
SIF TALENT:30 && (TALENT:5 == 0 && TALENT:8 == 0)
	SOURCE:18 += 1000

;Ｖ敏感、钝感をみる
;快Ｖ自体のチェックは後でまとめてやる
IF TALENT:103
	TIMES SOURCE:7 , 1.50
	TIMES SOURCE:14 , 1.50
	TIMES SOURCE:17 , 1.50
ELSEIF TALENT:104
	TIMES SOURCE:7 , 0.60
	TIMES SOURCE:14 , 0.60
	TIMES SOURCE:17 , 0.60
ENDIF

SOURCE:1 += A
SOURCE:14 += B
SOURCE:7 += C
SOURCE:17 += B*2
SOURCE:8 += B

EXP:0 += 3
PRINTL Ｖ经验＋3
SIF TEQUIP:25
	觸手 += 1
;触手装着中は依赖度ベクトル強制变更
;依赖度ベクトル
TFLAG:33 = 5

;依赖度補正値(服从で1、隶属で2　強制变更なので、これまでの数値を重置）
IF TALENT:5 && ASSIPLAY == 0
	TFLAG:30 = 2
ELSEIF TALENT:8 && ASSIPLAY == 0
	TFLAG:30 = 4
ENDIF


;--------------------------------------------------
;装着時メッセージ
;--------------------------------------------------
@EQUIP_MESSAGE_COM307
SIF FLAG:6 == 0
	RETURN 0

PRINTL 
PRINTFORML %CALLNAME:TARGET%的子宫被触手强行撑开，在毫无防备的状态下被蹂躏着
PRINTL 
IF ABL:9 == 0
	PRINTFORMW 剧痛之下，%CALLNAME:TARGET%连声音都发不出来了…
ELSEIF ABL:9 == 1
	PRINTFORM %CALLNAME:TARGET%浑身是汗
	SIF TEQUIP:19 == 0
		PRINT ，只能用手扶着鼓起的腹部来减轻一点痛苦
	PRINTW 了。
ELSEIF ABL:9 == 2
	PRINTFORM %CALLNAME:TARGET%的脸上浮现出痛苦的神情，面泛潮红地看着自己肿得大大的肚子
	IF TEQUIP:19
		PRINTW 持续注视这一切的
	ELSE
		PRINTW 摩擦着肚子的
	ENDIF
ELSEIF ABL:9 == 3
	PRINTFORMW %CALLNAME:TARGET%虽然被排卵感所折磨，偶尔还是会露出一些恍惚的表情
ELSEIF ABL:9 == 4
	PRINTFORMW %CALLNAME:TARGET%满脸陶醉，享受着腹痛和排卵感
ELSE
	PRINTFORML 大幅膨胀的%CALLNAME:TARGET%的肚子里
	PRINTL 似乎有凸起的卵的形状随着呼吸咕噜咕噜滚动
	PRINTFORMW 或许是那些活动的卵勾动了子宫的褶皱，偶尔能听到%CALLNAME:TARGET%发出艳丽的悲鸣……
ENDIF
