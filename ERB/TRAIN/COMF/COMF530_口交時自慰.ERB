;-------------------------------------------------
;口交时自慰
;実行難度高め。複数の能力に経験地が入る
;-------------------------------------------------
;-------------------------------------------------
;口交时自慰実行判定
;-------------------------------------------------
@COM_ABLE530
;顺从と侍奉技术と技巧が3以上必要
SIF ABL:0 < 3 &&  ABL:2 < 3 &&  ABL:7 < 3
	RETURN 0
;調教者が男人か扶她じゃないとダメ
SIF !PENIS(PLAYER)
	RETURN 0
;調教者のペニスが爱液、精液、アナル、尿で汚れており、顺从3以下の場合フェラはできない
IF STAIN:PLAYER:2 & 1 || STAIN:PLAYER:2 & 4 || STAIN:PLAYER:2 & 8 || STAIN:PLAYER:2 & 32
	SIF ABL:0 < 3
		RETURN 0
ENDIF
;顺从3以下のASSIの場合自慰はできない
IF ASSIPLAY
	SIF ABL:ASSI:0 < 3 
		RETURN 0
ENDIF
;口塞使用中は不可
SIF TEQUIP:20
	RETURN 0
;绳子使用中は不可
SIF TEQUIP:19
	RETURN 0
;触手調教中はダメ
SIF TEQUIP:25
	RETURN 0
;逆推中ダメ
SIF TEQUIP:60
	RETURN 0
RETURN 1
@COM530
IF TEQUIP:28
	IF PREVCOM == 10 || SELECTCOM == 10
		PRINTL 公开口交胸自慰
		STR:0 = 公开口交胸自慰
	ELSEIF PREVCOM == 14 || SELECTCOM == 14
		PRINTL 公开口交肛自慰
		STR:0 = 公开口交肛自慰
	ELSE
		PRINTL 公开口交自慰
		STR:0 = 公开口交自慰
	ENDIF
ELSEIF TEQUIP:野外PLAY
	IF PREVCOM == 10 || SELECTCOM == 10
		PRINTL 野外口交胸自慰
		STR:0 = 野外口交时胸自慰
	ELSEIF PREVCOM == 14 || SELECTCOM == 14
		PRINTL 野外口交肛自慰
		STR:0 = 野外口交肛自慰
	ELSE
		PRINTL 野外口交自慰
		STR:0 = 野外口交自慰
	ENDIF
ELSE
	IF PREVCOM == 10 || SELECTCOM == 10
		PRINTL 口交时胸自慰
		STR:0 = 口交时胸自慰
	ELSEIF PREVCOM == 14 || SELECTCOM == 14
		PRINTL 口交时肛自慰
		STR:0 = 口交时肛自慰
	ELSE
		PRINTL 口交时自慰
		STR:0 = 口交时自慰
	ENDIF
ENDIF

;-------------------------------------------------
;実行できるかの判定
;-------------------------------------------------
A = 0
S = 0

;すべての命令に共通の要素を考慮
;(顺从が高いと命令に従いやすいなど)
CALL COM_ORDER

;ABL:欲望
IF ABL:1
	SIF S
		PRINT  + 
	A += ABL:1 * 1
	PRINTS ABLNAME:1
	PRINTV 'LV,ABL:1,'(,ABL:1 * 1,')
	S = 1
ENDIF
;ABL:侍奉精神
IF ABL:7
	SIF S
		PRINT  + 
	A += ABL:7 * 4
	PRINTS ABLNAME:7
	PRINTV 'LV,ABL:7,'(,ABL:7 * 4,')
	S = 1
ENDIF
;ABL:精液中毒
IF ABL:7
	SIF S
		PRINT  + 
	A += ABL:7 * 3
	PRINTS ABLNAME:16
	PRINTV 'LV,ABL:7,'(,ABL:7 * 3,')
	S = 1
ENDIF
;ABL:露出癖
IF ABL:8
	SIF S
		PRINT  + 
	A += ABL:8 * 4
	PRINTS ABLNAME:8
	PRINTV 'LV,ABL:8,'(,ABL:8 * 4,')
	S = 1
ENDIF
;ABL:自慰中毒
IF ABL:15
	SIF S
		PRINT  + 
	A += ABL:15 * 3
	PRINTS ABLNAME:15
	PRINTV 'LV,ABL:15,'(,ABL:15 * 3,')
	S = 1
ENDIF
IF MARK:1
	SIF S
		PRINT  + 
	A += MARK:1 * 1
	PRINTS MARKNAME:1
	PRINTV 'LV,MARK:1,'(,MARK:1 * 1,')
	S = 1
ENDIF


;PALAM:欲情
IF PALAM:6 < PALAMLV:1
	L = 0
ELSEIF PALAM:6 < PALAMLV:2
	L = 1
ELSEIF PALAM:6 < PALAMLV:3
	L = 2
ELSEIF PALAM:6 < PALAMLV:4
	L = 3
ELSEIF PALAM:6 < PALAMLV:5
	L = 4
ELSE
	L = 5
ENDIF
IF L
	SIF S
		PRINT  + 
	A += L * 1
	PRINTS PALAMNAME:6
	PRINTV 'LV,L,'(,L * 1,')
	S = 1
ENDIF

;克制
IF TALENT:20
	PRINT  - 
	A -= 5
	PRINTS TALENTNAME:20
	PRINTV '(,5,')
	S = 1
ENDIF
;害羞
IF TALENT:35
	PRINT  - 
	A -= 1
	PRINTS TALENTNAME:35
	PRINTV '(,1,')
	S = 1
ENDIF
;不怕污臭
IF TALENT:61
	SIF S
		PRINT  + 
	A += 1
	PRINTS TALENTNAME:61
	PRINTV '(,1,')
	S = 1
ENDIF
;反感污臭
IF TALENT:62
	PRINT  - 
	A -= 3
	PRINTS TALENTNAME:62
	PRINTV '(,3,')
	S = 1
ENDIF
;献身的
IF TALENT:63
	SIF S
		PRINT  + 
	A += 6
	PRINTS TALENTNAME:63
	PRINTV '(,6,')
	S = 1
ENDIF
;否定快感
IF TALENT:71
	PRINT  - 
	A -= 1
	PRINTS TALENTNAME:71
	PRINTV '(,1,')
	S = 1
ENDIF
;讨厌男人
IF TALENT:82 && TALENT:PLAYER:140
	PRINT  - 
	A -= 12
	PRINTS TALENTNAME:82
	PRINTV '(,12,')
	S = 1
ENDIF
;淫乱
IF TALENT:4 && ASSIPLAY == 0
	SIF S
		PRINT  + 
	A += 5
	PRINTS TALENTNAME:4
	PRINTV '(,5,')
	S = 5
ENDIF
;娼妇
IF TALENT:7 && ASSIPLAY == 0
	SIF S
		PRINT  + 
	A += 10
	PRINTS TALENTNAME:7
	PRINTV '(,10,')
	S = 10
ENDIF

Y = 0
;爱液の汚れ
SIF STAIN:PLAYER:2 & 1
	Y += 1
;精液の汚れ
SIF STAIN:PLAYER:2 & 4
	Y += 3
;アナルの汚れ
SIF STAIN:PLAYER:2 & 8
	Y += 7
;母乳の汚れ
SIF STAIN:PLAYER:2 & 16
	Y += 1
;尿の汚れ
SIF STAIN:PLAYER:4 & 32
	Y += 3
SIF TALENT:61
	Y /= 3
SIF TALENT:62
	Y *= 2

;汚れあり
IF Y
	PRINT  - 
	A -= Y
	;不怕污臭
	IF TALENT:61
		PRINT 有污物、
		PRINTS TALENTNAME:61
	ELSEIF TALENT:62
		PRINT 有污物、
		PRINTS TALENTNAME:62
	ELSE
		PRINT 有污物
	ENDIF
	PRINTV '(,Y,')
	S = 1
ENDIF

;合計を表示(50以上で実行)
PRINT  = 
PRINTV A

;難易度上昇
;公開で+10、バイブで+5、アナルバイブで+5、淋浴で＋3
V = 50
SIF TEQUIP:28
	V += 10
SIF TEQUIP:32
	V += 3
SIF TEQUIP:14
	V += 5
SIF TEQUIP:13
	V += 5

;V = 40
SIF A < V
	PRINT  < 
SIF A == V
	PRINT  = 
SIF A > V
	PRINT  > 
PRINT 实行值
PRINTV V

WAIT

;実行できない
SIF A < V
	RETURN 0

;-------------------------------------------------
;実行決定
;-------------------------------------------------
PRINTFORML %EXPNAME:22%＋１
EXP:22 += 1
PRINTFORML %EXPNAME:10%＋１
EXP:10 += 1
PRINTFORML %EXPNAME:11%＋１
EXP:11 += 1
;-------------------------------------------------
;ソースの計算
;-------------------------------------------------
IF TALENT:47
	LOSEBASE:0 += 20
	LOSEBASE:1 += 70
ELSE
	LOSEBASE:0 += 30
	LOSEBASE:1 += 150
ENDIF

SOURCE:14 = 1500
SOURCE:3 = 500

;上のほうで計算した汚れデータ
SOURCE:15 = Y*40 + 100

A = 0
B = 0
C = 0
D = 0

;ABL:阴蒂感觉をみる
IF PREVCOM == 11 || SELECTCOM == 11
	IF ABL:3 == 0
		SOURCE:0 = 15
		SOURCE:13 = 2000
		SOURCE:14 = 500
	ELSEIF ABL:3 == 1
		SOURCE:0 = 50
		SOURCE:13 = 2300
		SOURCE:14 = 800
	ELSEIF ABL:3 == 2
		SOURCE:0 = 300
		SOURCE:13 = 2600
		SOURCE:14 = 1200
	ELSEIF ABL:3 == 3
		SOURCE:0 = 700
		SOURCE:13 = 2900
		SOURCE:14 = 1900
	ELSEIF ABL:3 == 4
		SOURCE:0 = 1100
		SOURCE:13 = 3200
		SOURCE:14 = 2500
	ELSE
		SOURCE:0 = 1600
		SOURCE:13 = 3500
		SOURCE:14 = 3000
	ENDIF
ENDIF
;ABL:Ｂ感觉をみる
IF PREVCOM == 10 || SELECTCOM == 10
	IF ABL:6 == 0
		SOURCE:3 = 15
	ELSEIF ABL:6 == 1
		SOURCE:3 = 50
	ELSEIF ABL:6 == 2
		SOURCE:3 = 300
	ELSEIF ABL:6 == 3
		SOURCE:3 = 700
	ELSEIF ABL:6 == 4
		SOURCE:3 = 1100
	ELSE
		SOURCE:3 = 1600
	ENDIF
ENDIF
;ABL:A感觉をみる
IF PREVCOM == 14 || SELECTCOM == 14
	IF ABL:5 == 0
		SOURCE:2 = 15
	ELSEIF ABL:5 == 1
		SOURCE:2 = 50
	ELSEIF ABL:5 == 2
		SOURCE:2 = 300
	ELSEIF ABL:5 == 3
		SOURCE:2 = 700
	ELSEIF ABL:5 == 4
		SOURCE:2 = 1100
	ELSE
		SOURCE:2 = 1600
	ENDIF
ENDIF

;バイブ挿入中の場合
IF TEQUIP:13
	;ABL:私处感觉をみる
	IF ABL:4 == 0
		A += 40
		D += 150
	ELSEIF ABL:4 == 1
		A += 120
		D += 400
	ELSEIF ABL:4 == 2
		A += 300
		D += 700
	ELSEIF ABL:4 == 3
		A += 500
		D += 900
	ELSEIF ABL:4 == 4
		A += 650
		D += 1000
	ELSE
		A += 850
		D += 1200
	ENDIF

	;EXP:私处经验をみる
	;处女はありえない
	IF EXP:0 < EXPLV:2
		TIMES A , 0.60
		C += 150
	ELSEIF EXP:0 < EXPLV:3
		TIMES A , 1.00
		C += 20
	ELSEIF EXP:0 < EXPLV:4
		TIMES A , 1.20
		C += 0
	ELSEIF EXP:0 < EXPLV:5
		TIMES A , 1.40
		C += 0
	ELSE
		TIMES A , 1.60
		C += 0
	ENDIF
	;私处敏感、鈍感をみる
	IF TALENT:104
		TIMES C , 1.50
		TIMES D , 1.50
	ELSEIF TALENT:103
		TIMES C , 0.60
		TIMES D , 0.60
	ENDIF
	;一度単独で計算
	SOURCE:14 += D
ENDIF

;アナルバイブ挿入中の場合
IF TEQUIP:14
	LOSEBASE:0 += 30
	LOSEBASE:1 += 80

	;ABL:肛门感觉をみる
	IF ABL:5 == 0
		B += 40
		D += 150
	ELSEIF ABL:5 == 1
		B += 120
		D += 400
	ELSEIF ABL:5 == 2
		B += 300
		D += 700
	ELSEIF ABL:5 == 3
		B += 500
		D += 900
	ELSEIF ABL:5 == 4
		B += 650
		D += 1000
	ELSE
		B += 850
		D += 1200
	ENDIF

	;EXP:肛门经验をみる
	IF EXP:1 < EXPLV:1
		TIMES B , 0.50
		C += 1000
	ELSEIF EXP:1 < EXPLV:2
		TIMES B , 1.00
		C += 150
	ELSEIF EXP:1 < EXPLV:3
		TIMES B , 1.10
		C += 20
	ELSEIF EXP:1 < EXPLV:4
		TIMES B , 1.20
		C += 0
	ELSEIF EXP:1 < EXPLV:5
		TIMES B , 1.40
		C += 0
	ELSE
		TIMES B , 1.60
		C += 0
	ENDIF

	;肛门敏感、鈍感をみる
	IF TALENT:106
		TIMES C , 1.50
		TIMES D , 1.50
	ELSEIF TALENT:105
		TIMES C , 0.60
		TIMES D , 0.60
	ENDIF
	;一度単独で計算
	SOURCE:14 += D
ENDIF

;淋浴使用中の場合
IF TEQUIP:32
	;ABL:阴蒂感觉をみる
	IF ABL:0 == 0
		SOURCE:0 = 150
		SOURCE:13 = 1000
		SOURCE:14 = 50
	ELSEIF ABL:0 == 1
		SOURCE:0 = 400
		SOURCE:13 = 1300
		SOURCE:14 = 80
	ELSEIF ABL:0 == 2
		SOURCE:0 = 800
		SOURCE:13 = 1600
		SOURCE:14 = 120
	ELSEIF ABL:0 == 3
		SOURCE:0 = 1200
		SOURCE:13 = 1900
		SOURCE:14 = 190
	ELSEIF ABL:0 == 4
		SOURCE:0 = 1500
		SOURCE:13 = 2200
		SOURCE:14 = 250
	ELSE
		SOURCE:0 = 1800
		SOURCE:13 = 2500
		SOURCE:14 = 300
	ENDIF

	;ABL:私处感觉をみる
	IF ABL:4 == 0
		SOURCE:1 = 0
		D = 0
	ELSEIF ABL:4 == 1
		SOURCE:1 = 100
		D = 300
	ELSEIF ABL:4 == 2
		SOURCE:1 = 200
		D = 400
	ELSEIF ABL:4 == 3
		SOURCE:1 = 300
		D = 500
	ELSEIF ABL:4 == 4
		SOURCE:1 = 400
		D = 600
	ELSE
		SOURCE:1 = 500
		D = 700
	ENDIF

	;ABL:肛门感觉をみる
	IF ABL:5 == 0
		B = 40
		D += 150
	ELSEIF ABL:5 == 1
		B = 120
		D += 400
	ELSEIF ABL:5 == 2
		B = 300
		D += 700
	ELSEIF ABL:5 == 3
		B = 500
		D += 900
	ELSEIF ABL:5 == 4
		B = 650
		D += 1000
	ELSE
		B = 850
		D += 1200
	ENDIF

	;私处敏感、鈍感をみる
	IF TALENT:104
		TIMES SOURCE:7 , 1.50
		TIMES D , 1.50
	ELSEIF TALENT:103
		TIMES SOURCE:7 , 0.60
		TIMES D , 0.60
	ENDIF
	;肛门敏感、鈍感をみる
	IF TALENT:106
		TIMES SOURCE:7 , 1.50
		TIMES D , 1.50
	ELSEIF TALENT:105
		TIMES SOURCE:7 , 0.60
		TIMES D , 0.60
	ENDIF
	;一度単独で計算
	SOURCE:14 += D

ELSE
	B = 0
	SOURCE:2 = 0
	A = 0
	SOURCE:1 = 0
ENDIF

;ＶかＡが上昇するとき、上昇に従ってSOURCE:0、SOURCE:3を減らす
IF TEQUIP:14 || TEQUIP:13
	E = ABL:4 + ABL:5
	IF E <= 1
		TIMES SOURCE:0 , 1.00
		TIMES SOURCE:3 , 1.00
	ELSEIF E <= 3
		TIMES SOURCE:0 , 0.90
		TIMES SOURCE:3 , 0.90
	ELSEIF E <= 5
		TIMES SOURCE:0 , 0.80
		TIMES SOURCE:3 , 0.80
	ELSEIF E <= 7
		TIMES SOURCE:0 , 0.70
		TIMES SOURCE:3 , 0.70
	ELSEIF E <= 9
		TIMES SOURCE:0 , 0.60
		TIMES SOURCE:3 , 0.60
	ELSE
		TIMES SOURCE:0 , 0.50
		TIMES SOURCE:3 , 0.50
	ENDIF
ENDIF

;バイブ、アナルバイブだけ先に計算
IF TEQUIP:14 || TEQUIP:13
	;PALAM:润滑をみる
	IF PALAM:4 < PALAMLV:1
		TIMES A , 0.40
		TIMES B , 0.40
		C += 800
	ELSEIF PALAM:4 < PALAMLV:2
		TIMES A , 0.80
		TIMES B , 0.80
		C += 500
	ELSEIF PALAM:4 < PALAMLV:3
		TIMES A , 1.00
		TIMES B , 1.00
		C += 300
	ELSEIF PALAM:4 < PALAMLV:4
		TIMES A , 1.40
		TIMES B , 1.40
		C += 120
	ELSEIF PALAM:4 >= PALAMLV:4
		TIMES A , 1.80
		TIMES B , 1.80
		C += 100
	ENDIF

	;PALAM:欲情をみる
	IF PALAM:6 < PALAMLV:1
		TIMES A , 0.80
		TIMES B , 0.80
	ELSEIF PALAM:6 < PALAMLV:2
		TIMES A , 0.90
		TIMES B , 0.90
	ELSEIF PALAM:6 < PALAMLV:3
		TIMES A , 1.00
		TIMES B , 1.00
	ELSEIF PALAM:6 < PALAMLV:4
		TIMES A , 1.10
		TIMES B , 1.10
	ELSEIF PALAM:6 >= PALAMLV:4
		TIMES A , 1.20
		TIMES B , 1.20
	ENDIF

	;ABL:顺从をみる
	IF ABL:0 == 0
		TIMES A , 0.80
		TIMES B , 0.80
	ELSEIF ABL:0 == 1
		TIMES A , 0.90
		TIMES B , 0.90
	ELSEIF ABL:0 == 2
		TIMES A , 1.00
		TIMES B , 1.00
	ELSEIF ABL:0 == 3
		TIMES A , 1.10
		TIMES B , 1.10
	ELSEIF ABL:0 == 4
		TIMES A , 1.20
		TIMES B , 1.20
	ELSE
		TIMES A , 1.30
		TIMES B , 1.30
	ENDIF

	;看重贞操
	IF TALENT:30
		TIMES C, 3.00
	ENDIF

	SOURCE:1 = A
	SOURCE:2 = B
	SOURCE:7 = C

ENDIF

;淋浴だけ先に計算
IF TEQUIP:32
	;PALAM:润滑をみる
	IF PALAM:4 < PALAMLV:1
		TIMES A , 0.40
		TIMES B , 0.40
		C += 800
	ELSEIF PALAM:4 < PALAMLV:2
		TIMES A , 0.80
		TIMES B , 0.80
		C += 500
	ELSEIF PALAM:4 < PALAMLV:3
		TIMES A , 1.00
		TIMES B , 1.00
		C += 300
	ELSEIF PALAM:4 < PALAMLV:4
		TIMES A , 1.40
		TIMES B , 1.40
		C += 120
	ELSEIF PALAM:4 >= PALAMLV:4
		TIMES A , 1.80
		TIMES B , 1.80
		C += 100
	ENDIF

	;PALAM:欲情をみる
	IF PALAM:6 < PALAMLV:1
		TIMES A , 0.80
		TIMES B , 0.80
	ELSEIF PALAM:6 < PALAMLV:2
		TIMES A , 0.90
		TIMES B , 0.90
	ELSEIF PALAM:6 < PALAMLV:3
		TIMES A , 1.00
		TIMES B , 1.00
	ELSEIF PALAM:6 < PALAMLV:4
		TIMES A , 1.10
		TIMES B , 1.10
	ELSEIF PALAM:6 >= PALAMLV:4
		TIMES A , 1.20
		TIMES B , 1.20
	ENDIF

	;ABL:顺从をみる
	IF ABL:0 == 0
		TIMES A , 0.80
		TIMES B , 0.80
	ELSEIF ABL:0 == 1
		TIMES A , 0.90
		TIMES B , 0.90
	ELSEIF ABL:0 == 2
		TIMES A , 1.00
		TIMES B , 1.00
	ELSEIF ABL:0 == 3
		TIMES A , 1.10
		TIMES B , 1.10
	ELSEIF ABL:0 == 4
		TIMES A , 1.20
		TIMES B , 1.20
	ELSE
		TIMES A , 1.30
		TIMES B , 1.30
	ENDIF

	SOURCE:1 += A
	SOURCE:2 += B

ENDIF

;ABL:侍奉精神をみる
IF ABL:7 == 0
	SOURCE:5 = 620
	SOURCE:6 = 150
	TIMES SOURCE:15 , 4.00
ELSEIF ABL:7 == 1
	SOURCE:5 = 700
	SOURCE:6 = 300
	TIMES SOURCE:15 , 2.50
ELSEIF ABL:7 == 2
	SOURCE:5 = 820
	SOURCE:6 = 600
	TIMES SOURCE:15 , 1.50
ELSEIF ABL:7 == 3
	SOURCE:5 = 940
	SOURCE:6 = 900
	TIMES SOURCE:15 , 1.00
ELSEIF ABL:7 == 4
	SOURCE:5 = 1100
	SOURCE:6 = 1500
	TIMES SOURCE:15 , 0.50
ELSE
	SOURCE:5 = 1260
	SOURCE:6 = 2200
	TIMES SOURCE:15 , 0.10
ENDIF

;ABL:技巧をみる
IF ABL:2 == 0
	SOURCE:5 = 100
	TIMES SOURCE:0 , 0.30
	TIMES SOURCE:3 , 0.30
	TIMES SOURCE:1 , 0.30
	TIMES SOURCE:2 , 0.30
	TIMES SOURCE:5 , 0.50
	TIMES SOURCE:6 , 0.30
ELSEIF ABL:2 == 1
	SOURCE:5 = 160
	TIMES SOURCE:0 , 0.70
	TIMES SOURCE:3 , 0.70
	TIMES SOURCE:1 , 0.70
	TIMES SOURCE:2 , 0.70
	TIMES SOURCE:5 , 0.80
	TIMES SOURCE:6 , 0.70
ELSEIF ABL:2 == 2
	SOURCE:5 = 220
	TIMES SOURCE:0 , 1.00
	TIMES SOURCE:3 , 1.00
	TIMES SOURCE:1 , 1.00
	TIMES SOURCE:2 , 1.00
	TIMES SOURCE:5 , 1.00
	TIMES SOURCE:6 , 1.00
ELSEIF ABL:2 == 3
	SOURCE:5 = 280
	TIMES SOURCE:0 , 1.20
	TIMES SOURCE:3 , 1.20
	TIMES SOURCE:1 , 1.20
	TIMES SOURCE:2 , 1.20
	TIMES SOURCE:5 , 1.20
	TIMES SOURCE:6 , 1.20
ELSEIF ABL:2 == 4
	SOURCE:5 = 340
	TIMES SOURCE:0 , 1.40
	TIMES SOURCE:3 , 1.40
	TIMES SOURCE:1 , 1.40
	TIMES SOURCE:2 , 1.40
	TIMES SOURCE:5 , 1.50
	TIMES SOURCE:6 , 1.40
ELSE
	SOURCE:5 = 400
	TIMES SOURCE:0 , 1.60
	TIMES SOURCE:3 , 1.60
	TIMES SOURCE:1 , 1.60
	TIMES SOURCE:2 , 1.60
	TIMES SOURCE:5 , 2.00
	TIMES SOURCE:6 , 1.60
ENDIF

;ABL:自慰中毒をみる
IF ABL:15 == 0
	SOURCE:9 = 0
	TIMES SOURCE:0 , 1.00
	TIMES SOURCE:3 , 1.00
	TIMES SOURCE:1 , 1.00
	TIMES SOURCE:2 , 1.00
ELSEIF ABL:15 == 1
	SOURCE:9 = 100
	TIMES SOURCE:0 , 1.10
	TIMES SOURCE:3 , 1.10
	TIMES SOURCE:1 , 1.10
	TIMES SOURCE:2 , 1.10
ELSEIF ABL:15 == 2
	SOURCE:9 = 300
	TIMES SOURCE:0 , 1.20
	TIMES SOURCE:3 , 1.20
	TIMES SOURCE:1 , 1.20
	TIMES SOURCE:2 , 1.20
ELSEIF ABL:15 == 3
	SOURCE:9 = 800
	TIMES SOURCE:0 , 1.30
	TIMES SOURCE:3 , 1.30
	TIMES SOURCE:1 , 1.30
	TIMES SOURCE:2 , 1.30
ELSEIF ABL:15 == 4
	SOURCE:9 = 1500
	TIMES SOURCE:0 , 1.50
	TIMES SOURCE:3 , 1.50
	TIMES SOURCE:1 , 1.50
	TIMES SOURCE:2 , 1.50
ELSE
	SOURCE:9 = 2500
	TIMES SOURCE:0 , 1.70
	TIMES SOURCE:3 , 1.70
	TIMES SOURCE:1 , 1.50
	TIMES SOURCE:2 , 1.50
ENDIF

;公開や野外のときは、ABL:露出癖とTALENT:露出狂をみる
IF TEQUIP:28 || TEQUIP:29
	IF ABL:8 == 0
		SOURCE:9 += 0
		TIMES SOURCE:0 , 1.00
		TIMES SOURCE:3 , 1.00
		TIMES SOURCE:1 , 1.00
		TIMES SOURCE:2 , 1.00
		TIMES SOURCE:13, 1.00
	ELSEIF ABL:8 == 1
		SOURCE:9 += 100
		TIMES SOURCE:0 , 1.10
		TIMES SOURCE:3 , 1.10
		TIMES SOURCE:1 , 1.10
		TIMES SOURCE:2 , 1.10
		TIMES SOURCE:13, 1.20
	ELSEIF ABL:8 == 2
		SOURCE:9 += 300
		TIMES SOURCE:0 , 1.20
		TIMES SOURCE:3 , 1.20
		TIMES SOURCE:1 , 1.20
		TIMES SOURCE:2 , 1.20
		TIMES SOURCE:13, 1.40
	ELSEIF ABL:8 == 3
		SOURCE:9 += 800
		TIMES SOURCE:0 , 1.30
		TIMES SOURCE:3 , 1.30
		TIMES SOURCE:1 , 1.30
		TIMES SOURCE:2 , 1.30
		TIMES SOURCE:13, 1.60
	ELSEIF ABL:8 == 4
		SOURCE:9 += 1500
		TIMES SOURCE:0 , 1.50
		TIMES SOURCE:3 , 1.50
		TIMES SOURCE:1 , 1.50
		TIMES SOURCE:2 , 1.50
		TIMES SOURCE:13, 2.00
	ELSE
		SOURCE:9 += 2500
		TIMES SOURCE:0 , 1.70
		TIMES SOURCE:3 , 1.70
		TIMES SOURCE:1 , 1.70
		TIMES SOURCE:2 , 1.70
		TIMES SOURCE:13, 3.00
	ENDIF

	IF TALENT:919
		SOURCE:9 += 500
		TIMES SOURCE:0 , 1.20
		TIMES SOURCE:3 , 1.20
		TIMES SOURCE:1 , 1.20
		TIMES SOURCE:2 , 1.20
		TIMES SOURCE:13, 1.50
	ENDIF
ENDIF

;陰毛を生やす設定
SIF TALENT:118
	TIMES SOURCE:13 , 2.00

;-------------------------------------------------
;射精ゲージチェック
;-------------------------------------------------
B = 0

;ABL:技巧をみる
IF ABL:2 == 0
	B = 1200
ELSEIF ABL:2 == 1
	B = 1700
ELSEIF ABL:2 == 2
	B = 2300
ELSEIF ABL:2 == 3
	B = 3000
ELSEIF ABL:2 == 4
	B = 3600
ELSE
	B = 4200
ENDIF

;ABL:顺从をみる
IF ABL:0 == 0
	TIMES B , 0.80
ELSEIF ABL:0 == 1
	TIMES B , 0.90
ELSEIF ABL:0 == 2
	TIMES B , 1.00
ELSEIF ABL:0 == 3
	TIMES B , 1.10
ELSEIF ABL:0 == 4
	TIMES B , 1.20
ELSE
	TIMES B , 1.30
ENDIF

;ABL:侍奉技术をみる
IF ABL:7 == 0
	TIMES B , 0.50
ELSEIF ABL:7 == 1
	TIMES B , 0.80
ELSEIF ABL:7 == 2
	TIMES B , 1.20
ELSEIF ABL:7 == 3
	TIMES B , 1.50
ELSEIF ABL:7 == 4
	TIMES B , 1.80
ELSE
	TIMES B , 2.40
ENDIF

;ABL:精液中毒をみる
IF ABL:16 == 0
	TIMES B , 1.00
ELSEIF ABL:16 == 1
	TIMES B , 1.20
ELSEIF ABL:16 == 2
	TIMES B , 1.30
ELSEIF ABL:16 == 3
	TIMES B , 1.50
ELSEIF ABL:16 == 4
	TIMES B , 1.70
ELSE
	TIMES B , 2.00
ENDIF

;TALENT:擅用舌头をみる
SIF TALENT:52
	TIMES B , 2.00

;プレイヤーのABL:阴蒂感觉をみる
IF ABL:PLAYER:0 == 0
	TIMES B , 1.00
ELSEIF ABL:PLAYER:0 == 1
	TIMES B , 1.50
ELSEIF ABL:PLAYER:0 == 2
	TIMES B , 2.00
ELSEIF ABL:PLAYER:0 == 3
	TIMES B , 2.50
ELSEIF ABL:PLAYER:0 == 4
	TIMES B , 3.50
ELSE
	TIMES B , 5.00
ENDIF

SIF PENIS(PLAYER)
	BASE:PLAYER:2 += B

;-------------------------------------------------
;射精チェック
;-------------------------------------------------
S = BASE:PLAYER:2
EJAC = MAXBASE:PLAYER:2

IF  S > EJAC * 2
	E = 2
ELSEIF S > EJAC
	E = 1
ELSE
	E = 0
ENDIF

IF E
;射精している
	TIMES SOURCE:5 , 3.00

	;ABL:精液中毒をみる
	IF ABL:16 == 0
		SOURCE:9 = 0
		TIMES SOURCE:6 , 2.00
		TIMES SOURCE:14, 4.00
	ELSEIF ABL:16 == 1
		SOURCE:9 = 500
		TIMES SOURCE:6 , 3.00
		TIMES SOURCE:14, 3.00
	ELSEIF ABL:16 == 2
		SOURCE:9 = 1200
		TIMES SOURCE:6 , 4.00
		TIMES SOURCE:14, 2.50
	ELSEIF ABL:16 == 3
		SOURCE:9 = 3000
		TIMES SOURCE:5 , 6.00
		TIMES SOURCE:14, 2.00
	ELSEIF ABL:16 == 4
		SOURCE:9 = 6000
		TIMES SOURCE:6 , 9.00
		TIMES SOURCE:14, 1.50
	ELSE
		SOURCE:9 = 12000
		TIMES SOURCE:6 , 15.00
		TIMES SOURCE:14, 1.00
	ENDIF
ENDIF

;大量射精
IF E == 2
	TIMES SOURCE:9 , 2.00
	TIMES SOURCE:6 , 1.50

	EXP:PLAYER:3 += 2
	EXP:20 += 9
	PRINTL 大量射精
	PRINTL 精液经验＋９
	;精液汚れ
	STAIN:PLAYER:2 |= 4

	BASE:PLAYER:2 -= EJAC*2
	SIF BASE:PLAYER:2 >= EJAC
		BASE:PLAYER:2 = EJAC-1

	;口で射精させたフラグ
	TFLAG:0 = 2
;通常の射精
ELSEIF E == 1
	EXP:PLAYER:3 += 1
	EXP:20 += 3
	PRINTL 射精
	PRINTL 精液经验＋３
	;精液汚れ
	STAIN:PLAYER:2 |= 4

	BASE:PLAYER:2 -= EJAC
	SIF BASE:PLAYER:2 >= EJAC
		BASE:PLAYER:2 = EJAC-1

	;口で射精させたフラグ
	TFLAG:0 = 1
ENDIF

;-------------------------------------------------
;汚れ
;-------------------------------------------------
;奴隷の口⇔調教者のＰの汚れが移動
STAIN:0 |= STAIN:PLAYER:2
STAIN:PLAYER:2 |= STAIN:0

;奴隷の指⇔奴隷のＢの汚れが移動
STAIN:1 |= STAIN:5
STAIN:5 |= STAIN:1

;奴隷の指⇔奴隷のＶの汚れが移動
STAIN:1 |= STAIN:3
STAIN:3 |= STAIN:1

;淋浴オナニーの場合汚れをリセット、润滑更に半分。
IF TEQUIP:32 == 1
	STAIN:1 = 0
	STAIN:2 = 2
	STAIN:3 = 1
	STAIN:4 = 8

	PALAM:4 /= 2
ENDIF

;-------------------------------------------------
;経験上昇
;-------------------------------------------------
;视频拍摄時は经验にプラス
IF TEQUIP:28 || TEQUIP:野外PLAY
	EXP:10 += 2
	PRINTL 自慰经验＋２
	EXP:11 += 2
	PRINTL 调教自慰经验＋２
ELSE
	EXP:10 += 1
	PRINTL 自慰经验＋１
	EXP:11 += 1
	PRINTL 调教自慰经验＋１
ENDIF
;公開自慰時は异常经验付加
IF (TEQUIP:28 || TEQUIP:野外PLAY) && CFLAG:3 == 0
	EXP:50 += 1
	PRINTL 公开自慰初体验的异常经验＋１
	CFLAG:3 = 1
ENDIF
TFLAG:90 = 0
;摄影時の调教内容チェック
IF TEQUIP:13 && TEQUIP:14
	TFLAG:90 = 993
ELSEIF TEQUIP:13
	TFLAG:90 = 991
ELSEIF TEQUIP:14
	TFLAG:90 = 992
ELSEIF TEQUIP:32
	TFLAG:90 = 994
ENDIF

IF !(TALENT:140 || TALENT:137) && !(TALENT:PLAYER:140 || TALENT:PLAYER:137)
	PRINTS EXPNAME:40
	PRINTL +7
	EXP:40 += 7
ELSEIF (TALENT:140 || TALENT:137) && (TALENT:PLAYER:140 || TALENT:PLAYER:137)
	PRINTS EXPNAME:41
	PRINTL +7
	EXP:41 += 7
ENDIF

;依赖度ベクトル
TFLAG:33 = 5

;依赖度補正値(服从で1、隶属で2）
IF TALENT:5 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:8 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF
;地文
	PRINTFORML
IF TEQUIP:28
	PRINTFORM 在摄像机的前面，%CALLNAME%
	SIF ABL:8 >=3
	PRINTFORML 像是想被拍的更清楚那样特地靠近了镜头
	PRINTFORM 一边吞吐着%PLAYER_NAME()%的肉棒，一边
	IF PREVCOM == 10 || SELECTCOM == 10
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 搓揉着自己的胸部……
	ELSEIF PREVCOM == 14 || SELECTCOM == 14
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 用手指抽插自己的肛穴自慰着……
	ELSE
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 进行着自慰……
	ENDIF
	PRINTFORMW 黏稠透明的淫荡液体同时从他的嘴角与下身流出
	PRINTFORMW 这幅色情又不知廉耻的模样被摄像机完全纪录下来了……
ELSEIF TEQUIP:野外PLAY
	PRINTFORM 在野外公开的场合里，%CALLNAME%
	SIF ABL:8 >=3
	PRINTFORML 像是故意弄出很大的动静那样，发出吸吮的声音	
	PRINTFORM 一边吞吐着%PLAYER_NAME()%的肉棒，一边
	IF PREVCOM == 10 || SELECTCOM == 10
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 搓揉着自己的胸部……
	ELSEIF PREVCOM == 14 || SELECTCOM == 14
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 用手指抽插自己的肛穴自慰着……
	ELSE
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 进行着自慰……
	ENDIF
	PRINTFORMW 黏稠透明的淫荡液体同时从他的嘴角与下身流出
	PRINTFORMW 明明这是野外的公共场合，%CALLNAME%却展现出这幅色情又不知廉耻的模样……
ELSE
	PRINTFORM %CALLNAME%
	SIF ABL:1 >=3
	PRINTFORML 露出陶醉的表情，像是迫不及待那样
	PRINTFORM 一边吞吐着%PLAYER_NAME()%的肉棒，一边
	IF PREVCOM == 10 || SELECTCOM == 10
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 搓揉着自己的胸部……
	ELSEIF PREVCOM == 14 || SELECTCOM == 14
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 用手指抽插自己的肛穴自慰着……
	ELSE
		IF TALENT:3 || TALENT:6
			PRINTFORM 闭上眼睛忘情地
		ELSEIF TALENT:4 || TALENT:7
			PRINTFORM 像是发情似地
		ELSEIF TALENT:5 || TALENT:8
			PRINTFORM 仔细观察%CSTR:3%的反应，然後
		ENDIF
		PRINTFORML 进行着自慰……
	ENDIF
	PRINTFORMW 黏稠透明的淫荡液体同时从他的嘴角与下身流出
	PRINTFORMW 这幅色情又不知廉耻的模样，完全映入了%PLAYER_NAME()%的眼帘之中……
ENDIF
PRINTFORML
SELECTCOM = 530
RETURN 1
