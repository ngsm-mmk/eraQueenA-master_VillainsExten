;奴隶レンタルの処理
;期日に応じて奴隶を顧客に貸し出します。より顺从で自我奉献な奴隶が好まれ、レンタル金額が高くなります。
@RENTAL_SLAVE
;使用する変数の初期化
A = 0
B = 0
S = 0
V = 0
C = 0
D = 0

;レンタル对象の選択
PRINTL 请选择要出租的奴隶
REPEAT CHARANUM
	SIF COUNT == MASTER
		CONTINUE
	SIF CFLAG:COUNT:1 < 2
		CONTINUE
	SIF CFLAG:COUNT:12 > 0
		CONTINUE
	SIF (TALENT:COUNT:怀孕 && CFLAG:COUNT:110 - 11 <= DAY) || TALENT:COUNT:育儿中
		CONTINUE
	C = COUNT
	CALL CHECK_CHILD_CARE
	SIF RESULT == 1
		CONTINUE
	SIF CFLAG:COUNT:1 == 2 && (TALENT:COUNT:5 || TALENT:COUNT:8) && BASE:COUNT:0 > 500
		PRINTFORML [{COUNT}] - %CALLNAME:COUNT%
REND
PRINTL [100] - 返回
$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT < 0 || RESULT >= CHARANUM
	GOTO INPUT_LOOP
ELSEIF RESULT == MASTER
	GOTO INPUT_LOOP
ELSEIF CFLAG:RESULT:1 < 2
	GOTO INPUT_LOOP
ELSEIF CFLAG:RESULT:12 > 0
	GOTO INPUT_LOOP
ELSEIF (TALENT:RESULT:5 == 0 && TALENT:RESULT:8== 0) || BASE:RESULT:0 <= 500
	GOTO INPUT_LOOP
ELSE
	A = RESULT
ENDIF


;レンタル期間の選択
PRINTL 请选择出租的时间
SIF BASE:A:0 > 500
	PRINTL [0]   -   １日
SIF BASE:A:0 > 800
	PRINTL [1]   -   ３日
SIF BASE:A:0 > 1000
	PRINTL [2]   -   ５日
SIF BASE:A:0 > 1500
	PRINTL [3]   - １０日
PRINTL [100] -   返回
$INPUT_LOOP_2
INPUT
IF RESULT == 0 && BASE:A:0 > 500
	B = 1
ELSEIF RESULT == 1 && BASE:A:0 > 800
	B = 3
ELSEIF RESULT == 2 && BASE:A:0 > 1000
	B = 5
ELSEIF RESULT == 3 && BASE:A:0 > 1500
	B = 10
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP_2
ENDIF


;避妊の選択、避孕套は安価だが報酬が下がる。しない場合は怀孕の確立が上がる。避妊結界は報酬は下がらないが、高価。
IF TALENT:A:140
	D = 0
ELSE
	;男性の場合且非omega、避妊をする必要は無い
	IF TALENT:A:140 && !TALENT:A:164
		D = 0
	ELSE
		PRINTL 请选择避孕的方式
		PRINTL [0]   - 不避孕
		SIF MONEY > B * 5 * 100
			PRINTFORML [1]   - 避孕套($-{B*500}、出租罚金）
		SIF MONEY > B * 2000
			PRINTFORML [2]   - 子宫内避孕结界($-{B*2000}）
		PRINTL [100] -   返回
		$INPUT_LOOP_3
		INPUT
		IF RESULT == 0
			D = 0
		ELSEIF RESULT == 1 && MONEY > B * 500
			D = B * 500
		ELSEIF RESULT == 2 && MONEY > B * 2000
			D = B * 2000
			;当日分の避妊結界処理
			IF CFLAG:A:108
				D -= 2000
				SIF D == 0
					D = -1
			ENDIF
		ELSEIF RESULT == 100
			RETURN 0
		ELSE
			GOTO INPUT_LOOP_3
		ENDIF
	ENDIF
ENDIF

;レンタル金額の計算
;ABLによる基礎値計算
V = 0
;ABL:顺从をみる
IF ABL:A:0 == 0
	V = 0
ELSEIF ABL:A:0 == 1
	V = 1200
ELSEIF ABL:A:0 == 2
	V = 1400
ELSEIF ABL:A:0 == 3
	V = 1600
ELSEIF ABL:A:0 == 4
	V = 1800
ELSEIF ABL:A:0 == 5
	V = 2000
ELSEIF ABL:A:0 == 6
	V = 2200
ELSEIF ABL:A:0 == 7
	V = 2400
ELSEIF ABL:A:0 == 8
	V = 2600
ELSEIF ABL:A:0 == 9
	V = 2800
ELSE
	V = 3000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:0%LV{ABL:A:0} +{V}
S += V


;ABL:欲望をみる
IF ABL:A:1 == 0
	V = 0
ELSEIF ABL:A:1 == 1
	V = 1000
ELSEIF ABL:A:1 == 2
	V = 1200
ELSEIF ABL:A:1 == 3
	V = 1400
ELSEIF ABL:A:1 == 4
	V = 1600
ELSEIF ABL:A:1 == 5
	V = 1800
ELSEIF ABL:A:1 == 6
	V = 2000
ELSEIF ABL:A:1 == 7
	V = 2200
ELSEIF ABL:A:1 == 8
	V = 2400
ELSEIF ABL:A:1 == 9
	V = 2600
ELSE
	V = 2800
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:1%LV{ABL:A:1} +{V}
S += V


;ABL:技巧をみる
IF ABL:A:2 == 0
	V = 0
ELSEIF ABL:A:2 == 1
	V = 800
ELSEIF ABL:A:2 == 2
	V = 1000
ELSEIF ABL:A:2 == 3
	V = 1200
ELSEIF ABL:A:2 == 4
	V = 1400
ELSEIF ABL:A:2 == 5
	V = 1600
ELSEIF ABL:A:2 == 6
	V = 1800
ELSEIF ABL:A:2 == 7
	V = 1900
ELSEIF ABL:A:2 == 8
	V = 2000
ELSEIF ABL:A:2 == 9
	V = 2200
ELSE
	V = 2400
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:2%LV{ABL:A:2} +{V}
S += V


;ABL:Ｃ感觉をみる
IF ABL:A:3 == 0
	V = 0
ELSEIF ABL:A:3 == 1
	V = 800
ELSEIF ABL:A:3 == 2
	V = 1200
ELSEIF ABL:A:3 == 3
	V = 1700
ELSEIF ABL:A:3 == 4
	V = 2300
ELSEIF ABL:A:3 == 5
	V = 3000
ELSEIF ABL:A:3 == 6
	V = 3800
ELSEIF ABL:A:3 == 7
	V = 4600
ELSEIF ABL:A:3 == 8
	V = 5500
ELSEIF ABL:A:3 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
;受のとき
SIF TALENT:A:157
	TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:3%LV{ABL:A:3} +{V}
S += V


;ABL:Ｖ感觉をみる
IF ABL:A:4 == 0
	V = 0
ELSEIF ABL:A:4 == 1
	V = 800
ELSEIF ABL:A:4 == 2
	V = 1200
ELSEIF ABL:A:4 == 3
	V = 1700
ELSEIF ABL:A:4 == 4
	V = 2300
ELSEIF ABL:A:4 == 5
	V = 3000
ELSEIF ABL:A:4 == 6
	V = 3800
ELSEIF ABL:A:4 == 7
	V = 4600
ELSEIF ABL:A:4 == 8
	V = 5500
ELSEIF ABL:A:4 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
;攻だったら０に
SIF TALENT:A:158
	V = 0
SIF V > 0
	PRINTFORML %ABLNAME:4%LV{ABL:A:4} +{V}
S += V


;ABL:Ａ感觉をみる
IF ABL:A:5 == 0
	V = 0
ELSEIF ABL:A:5 == 1
	V = 800
ELSEIF ABL:A:5 == 2
	V = 1200
ELSEIF ABL:A:5 == 3
	V = 1700
ELSEIF ABL:A:5 == 4
	V = 2300
ELSEIF ABL:A:5 == 5
	V = 3000
ELSEIF ABL:A:5 == 6
	V = 3800
ELSEIF ABL:A:5 == 7
	V = 4600
ELSEIF ABL:A:5 == 8
	V = 5500
ELSEIF ABL:A:5 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
;攻だったら０に
SIF TALENT:A:158
	V = 0
SIF V > 0
	PRINTFORML %ABLNAME:5%LV{ABL:A:5} +{V}
S += V


;ABL:Ｂ感觉をみる
IF ABL:A:6 == 0
	V = 0
ELSEIF ABL:A:6 == 1
	V = 800
ELSEIF ABL:A:6 == 2
	V = 1200
ELSEIF ABL:A:6 == 3
	V = 1700
ELSEIF ABL:A:6 == 4
	V = 2300
ELSEIF ABL:A:6 == 5
	V = 3000
ELSEIF ABL:A:6 == 6
	V = 3800
ELSEIF ABL:A:6 == 7
	V = 4600
ELSEIF ABL:A:6 == 8
	V = 5500
ELSEIF ABL:A:6 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:6%LV{ABL:A:6} +{V}
S += V


;ABL:Ｗ感觉をみる
IF ABL:A:22 == 0
	V = 0
ELSEIF ABL:A:22 == 1
	V = 800
ELSEIF ABL:A:22 == 2
	V = 1200
ELSEIF ABL:A:22 == 3
	V = 1700
ELSEIF ABL:A:22 == 4
	V = 2300
ELSEIF ABL:A:22 == 5
	V = 3000
ELSEIF ABL:A:22 == 6
	V = 3800
ELSEIF ABL:A:22 == 7
	V = 4600
ELSEIF ABL:A:22 == 8
	V = 5500
ELSEIF ABL:A:22 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:22%LV{ABL:A:22} +{V}
S += V

;ABL:Ｔ感觉をみる
IF ABL:A:23 == 0
	V = 0
ELSEIF ABL:A:23 == 1
	V = 800
ELSEIF ABL:A:23 == 2
	V = 1200
ELSEIF ABL:A:23 == 3
	V = 1700
ELSEIF ABL:A:23 == 4
	V = 2300
ELSEIF ABL:A:23 == 5
	V = 3000
ELSEIF ABL:A:23 == 6
	V = 3800
ELSEIF ABL:A:23 == 7
	V = 4600
ELSEIF ABL:A:23 == 8
	V = 5500
ELSEIF ABL:A:23 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:23%LV{ABL:A:23} +{V}
S += V


;ABL:Ｅ感觉をみる
IF ABL:A:24 == 0
	V = 0
ELSEIF ABL:A:24 == 1
	V = 800
ELSEIF ABL:A:24 == 2
	V = 1200
ELSEIF ABL:A:24 == 3
	V = 1700
ELSEIF ABL:A:24 == 4
	V = 2300
ELSEIF ABL:A:24 == 5
	V = 3000
ELSEIF ABL:A:24 == 6
	V = 3800
ELSEIF ABL:A:24 == 7
	V = 4600
ELSEIF ABL:A:24 == 8
	V = 5500
ELSEIF ABL:A:24 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:24%LV{ABL:A:24} +{V}
S += V


;ABL:侍奉精神をみる
IF ABL:A:7 == 0
	V = 0
ELSEIF ABL:A:7 == 1
	V = 1200
ELSEIF ABL:A:7 == 2
	V = 1800
ELSEIF ABL:A:7 == 3
	V = 2500
ELSEIF ABL:A:7 == 4
	V = 3300
ELSEIF ABL:A:7 == 5
	V = 4200
ELSEIF ABL:A:7 == 6
	V = 5200
ELSEIF ABL:A:7 == 7
	V = 6300
ELSEIF ABL:A:7 == 8
	V = 7500
ELSEIF ABL:A:7 == 9
	V = 8800
ELSE
	V = 12000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:7%LV{ABL:A:7} +{V}
S += V


;ABL:露出癖をみる
IF ABL:A:8 == 0
	V = 0
ELSEIF ABL:A:8 == 1
	V = 800
ELSEIF ABL:A:8 == 2
	V = 1200
ELSEIF ABL:A:8 == 3
	V = 1700
ELSEIF ABL:A:8 == 4
	V = 2300
ELSEIF ABL:A:8 == 5
	V = 3000
ELSEIF ABL:A:8 == 6
	V = 3800
ELSEIF ABL:A:8 == 7
	V = 4600
ELSEIF ABL:A:8 == 8
	V = 5500
ELSEIF ABL:A:8 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:8%LV{ABL:A:8} +{V}
S += V


;ABL:受虐属性をみる
IF ABL:A:9 == 0
	V = 0
ELSEIF ABL:A:9 == 1
	V = 1000
ELSEIF ABL:A:9 == 2
	V = 1500
ELSEIF ABL:A:9 == 3
	V = 2100
ELSEIF ABL:A:9 == 4
	V = 2800
ELSEIF ABL:A:9 == 5
	V = 3600
ELSEIF ABL:A:9 == 6
	V = 4500
ELSEIF ABL:A:9 == 7
	V = 5500
ELSEIF ABL:A:9 == 8
	V = 6700
ELSEIF ABL:A:9 == 9
	V = 8000
ELSE
	V = 10000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:9%LV{ABL:A:9} +{V}
S += V


;ABL:嗜虐属性をみる
IF ABL:A:10 == 0
	V = 0
ELSEIF ABL:A:10 == 1
	V = 800
ELSEIF ABL:A:10 == 2
	V = 1200
ELSEIF ABL:A:10 == 3
	V = 1700
ELSEIF ABL:A:10 == 4
	V = 2300
ELSEIF ABL:A:10 == 5
	V = 3000
ELSEIF ABL:A:10 == 6
	V = 3800
ELSEIF ABL:A:10 == 7
	V = 4600
ELSEIF ABL:A:10 == 8
	V = 5500
ELSEIF ABL:A:10 == 9
	V = 6500
ELSE
	V = 8000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:10%LV{ABL:A:10} +{V}
S += V


;ABL:精液成瘾をみる
IF ABL:A:16 == 0
	V = 0
ELSEIF ABL:A:16 == 1
	V = 1500
ELSEIF ABL:A:16 == 2
	V = 2200
ELSEIF ABL:A:16 == 3
	V = 3000
ELSEIF ABL:A:16 == 4
	V = 3900
ELSEIF ABL:A:16 == 5
	V = 4900
ELSEIF ABL:A:16 == 6
	V = 6000
ELSEIF ABL:A:16 == 7
	V = 7200
ELSEIF ABL:A:16 == 8
	V = 8500
ELSEIF ABL:A:16 == 9
	V = 10000
ELSE
	V = 14000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:16%LV{ABL:A:16} +{V}
S += V


;ABL:性成瘾をみる
IF ABL:A:18 == 0
	V = 0
ELSEIF ABL:A:18 == 1
	V = 1500
ELSEIF ABL:A:18 == 2
	V = 2200
ELSEIF ABL:A:18 == 3
	V = 3000
ELSEIF ABL:A:18 == 4
	V = 3900
ELSEIF ABL:A:18 == 5
	V = 4900
ELSEIF ABL:A:18 == 6
	V = 6000
ELSEIF ABL:A:18 == 7
	V = 7200
ELSEIF ABL:A:18 == 8
	V = 8500
ELSEIF ABL:A:18 == 9
	V = 10000
ELSE
	V = 14000
ENDIF
TIMES V , 0.50
SIF V > 0
	PRINTFORML %ABLNAME:18%LV{ABL:A:18} +{V}
S += V


V = 100
;素質による拍卖額補正値計算
;TALENT:处女をみる
IF TALENT:A:0
	C = 100
	V += 100
	PRINTFORML %TALENTNAME:0% ＋{C}％
ENDIF
;TALENT:再生处女をみる
IF TALENT:A:1
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:1% ＋{C}％
ENDIF
;素質による増減
;陷落素質
;恋慕
IF TALENT:A:3
	C = 50
	V -= 50
	PRINTFORML %TALENTNAME:3% －{C}％
ENDIF
;淫乱
IF TALENT:A:4
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:4% ＋{C}％
ENDIF
;服从
IF TALENT:A:5
	C = 50
	V += 50
	PRINTFORML %TALENTNAME:5% ＋{C}％
ENDIF
;相亲相爱
IF TALENT:A:6
	C = 80
	V -= 80
	PRINTFORML %TALENTNAME:6% －{C}％
ENDIF
;娼妇
IF TALENT:A:7
	C = 60
	V += 60
	PRINTFORML %TALENTNAME:7% ＋{C}％
ENDIF
;隶属
IF TALENT:A:8
	C = 100
	V += 100
	PRINTFORML %TALENTNAME:8% ＋{C}％
ENDIF



;其他素質
;胆怯
IF TALENT:A:10
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:10% －{C}％
ENDIF
;反抗
IF TALENT:A:11
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:11% ＋{C}％
ENDIF
;刚强
IF TALENT:A:12
	C = 40
	V += 40
	PRINTFORML %TALENTNAME:12% ＋{C}％
ENDIF
;直率
IF TALENT:A:13
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:13% －{C}％
ENDIF
;老实
IF TALENT:A:14
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:14% －{C}％
ENDIF
;高傲
IF TALENT:A:15
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:15% ＋{C}％
ENDIF
;自大
IF TALENT:A:16
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:16% ＋{C}％
ENDIF
;自卑
IF TALENT:A:17
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:17% －{C}％
ENDIF
;傲娇
IF TALENT:A:18
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:18% ＋{C}％
ENDIF
;自制力
IF TALENT:A:20
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:20% ＋{C}％
ENDIF
;无动于衷
IF TALENT:A:21
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:21% －{C}％
ENDIF
;缺乏感情
IF TALENT:A:22
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:22% －{C}％
ENDIF
;性好奇
IF TALENT:A:23
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:23% ＋{C}％
ENDIF
;性保守
IF TALENT:A:24
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:24% ＋{C}％
ENDIF
;难以越过的底线
IF TALENT:A:27
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:27% ＋{C}％
ENDIF
;喜欢引人注目
IF TALENT:A:28
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:28% ＋{C}％
ENDIF
;贞操重视
IF TALENT:A:30
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:30% ＋{C}％
ENDIF
;贞操淡漠
IF TALENT:A:31
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:31% －{C}％
ENDIF
;性开放
IF TALENT:A:33
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:33% ＋{C}％
ENDIF
;害羞
IF TALENT:A:35
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:35% ＋{C}％
ENDIF
;不知羞耻
IF TALENT:A:36
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:36% －{C}％
ENDIF
;怕痛
IF TALENT:A:40
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:40% －{C}％
ENDIF
;耐痛
IF TALENT:A:41
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:41% ＋{C}％
ENDIF
;容易湿
IF TALENT:A:42
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:42% ＋{C}％
ENDIF
;不易湿
IF TALENT:A:43
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:43% －{C}％
ENDIF
;学得快
IF TALENT:A:50
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:50% ＋{C}％
ENDIF
;学得慢
IF TALENT:A:51
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:51% －{C}％
ENDIF
;善用舌头
IF TALENT:A:52
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:52% ＋{C}％
ENDIF
;药物抗性
IF TALENT:A:56
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:56% －{C}％
ENDIF
;漏尿癖
IF TALENT:A:57
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:57% ＋{C}％
ENDIF
;容易自慰
IF TALENT:A:60
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:60% ＋{C}％
ENDIF
;污臭钝感
IF TALENT:A:61
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:61% －{C}％
ENDIF
;污臭敏感
IF TALENT:A:62
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:62% ＋{C}％
ENDIF
;自我奉献
IF TALENT:A:63
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:63% ＋{C}％
ENDIF
;接受快感
IF TALENT:A:70
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:70% －{C}％
ENDIF
;否定快感
IF TALENT:A:71
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:71% ＋{C}％
ENDIF
;容易高潮
IF TALENT:A:73
	C = 50
	V -= 50
	PRINTFORML %TALENTNAME:73% －{C}％
ENDIF
;自慰狂
IF TALENT:A:74
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:74% ＋{C}％
ENDIF
;淫壶
IF TALENT:A:75
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:75% ＋{C}％
ENDIF
;尻穴狂
IF TALENT:A:76
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:76% ＋{C}％
ENDIF
;淫乳
IF TALENT:A:77
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:77% ＋{C}％
ENDIF
;性爱狂
IF TALENT:A:78
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:78% ＋{C}％
ENDIF
;性倒错
IF TALENT:A:80
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:80% ＋{C}％
ENDIF
;讨厌男人
IF TALENT:A:82
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:82% －{C}％
ENDIF
;施虐狂
IF TALENT:A:83
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:83% ＋{C}％
ENDIF
;受虐狂
IF TALENT:A:84
	C = 40
	V += 40
	PRINTFORML %TALENTNAME:84% ＋{C}％
ENDIF
;盲信
IF TALENT:A:86
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:86% ＋{C}％
ENDIF
;讨厌女人
IF TALENT:A:88
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:88% －{C}％
ENDIF
;小恶魔
IF TALENT:A:87
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:87% ＋{C}％
ENDIF
;妖狐
IF TALENT:A:91
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:91% ＋{C}％
ENDIF
;魅力
IF TALENT:A:92
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:92% ＋{C}％
ENDIF
;谜之魅力
IF TALENT:A:94
	C = 100
	V += 100
	PRINTFORML %TALENTNAME:94% ＋{C}％
ENDIF
;Ｃ钝感（感覚が4以上なら无效）
IF TALENT:A:101 && ABL:A:3 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:101% －{C}％
ENDIF
;Ｃ敏感（感覚が3未満なら无效）
IF TALENT:A:102 && ABL:A:3 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:102% ＋{C}％
ENDIF
;Ｖ钝感（感覚が4以上なら无效）
IF TALENT:A:103 && ABL:A:4 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:103% －{C}％
ENDIF
;Ｖ敏感（感覚が3未満なら无效）
IF TALENT:A:104 && ABL:A:4 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:104% ＋{C}％
ENDIF
;Ａ钝感（感覚が4以上なら无效）
IF TALENT:A:105 && ABL:A:5 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:105% －{C}％
ENDIF
;Ａ敏感（感覚が3未満なら无效）
IF TALENT:A:106 && ABL:A:5 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:106% ＋{C}％
ENDIF
;Ｂ钝感（感覚が4以上なら无效）
IF TALENT:A:107 && ABL:A:6 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:107% －{C}％
ENDIF
;Ｂ敏感（感覚が3未満なら无效）
IF TALENT:A:108 && ABL:A:6 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:108% ＋{C}％
ENDIF
;Ｗ钝感（感覚が4以上なら无效）
IF TALENT:A:231 && ABL:A:22 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:231% －{C}％
ENDIF
;Ｗ敏感（感覚が3未満なら无效）
IF TALENT:A:230 && ABL:A:22 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:230% ＋{C}％
ENDIF
;Ｔ钝感（感覚が4以上なら无效）
IF TALENT:A:233 && ABL:A:23 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:233% －{C}％
ENDIF
;Ｔ敏感（感覚が3未満なら无效）
IF TALENT:A:232 && ABL:A:23 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:232% ＋{C}％
ENDIF
;Ｅ钝感（感覚が4以上なら无效）
IF TALENT:A:235 && ABL:A:24 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:235% －{C}％
ENDIF
;Ｅ敏感（感覚が3未満なら无效）
IF TALENT:A:234 && ABL:A:24 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:234% ＋{C}％
ENDIF
;贫乳
IF TALENT:A:109
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:109% －{C}％
ENDIF
;绝壁
IF TALENT:A:110
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:110% ＋{C}％
ENDIF
;巨乳
IF TALENT:A:111
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:111% ＋{C}％
ENDIF
;爆乳
IF TALENT:A:112
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:112% ＋{C}％
ENDIF
;恢复快
IF TALENT:A:130
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:130% ＋{C}％
ENDIF
;恢复慢
IF TALENT:A:131
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:131% －{C}％
ENDIF
;吸血鬼
IF TALENT:A:132
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:132% ＋{C}％
ENDIF
;兽耳
IF TALENT:A:143
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:143% ＋{C}％
ENDIF
;人气
IF TALENT:A:145
	C = 50
	V += 50
	PRINTFORML %TALENTNAME:145% ＋{C}％
ENDIF
;人外
IF TALENT:A:147
	C = 70
	V += 70
	PRINTFORML %TALENTNAME:147% ＋{C}％
ENDIF
;天使
IF TALENT:A:166
	C = 50
	V += 50
	PRINTFORML %TALENTNAME:166% ＋{C}％
ENDIF
;堕天使
IF TALENT:A:167
	C = 50
	V += 50
	PRINTFORML %TALENTNAME:167% ＋{C}％
ENDIF
;恶魔
IF TALENT:A:168
	C = 50
	V += 50
	PRINTFORML %TALENTNAME:168% ＋{C}％
ENDIF
;幽灵
IF TALENT:A:183
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:183% ＋{C}％
ENDIF
;可怕的种族会减价格，无形体也有debuff
;无头
IF TALENT:A:237
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:237% －{C}％
ENDIF
;僵尸
IF TALENT:A:181
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:181% －{C}％
ENDIF
;无形体
IF TALENT:A:177
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:177% －{C}％
ENDIF
;异形
IF TALENT:A:178
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:178% －{C}％
ENDIF

;多尾
IF TALENT:A:210
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:210% ＋{C}％
ENDIF
;巨大体型
IF TALENT:A:224
	C = 60
	V += 60
	PRINTFORML %TALENTNAME:224% ＋{C}％
ENDIF
;母乳体质
IF TALENT:A:149
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:149% ＋{C}％
ENDIF
;受
IF TALENT:A:157
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:157% －{C}％
ENDIF
;攻
IF TALENT:A:158
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:158% －{C}％
ENDIF

;omega
IF TALENT:A:164
	F = 50
	V += 50
	PRINTFORML %TALENTNAME:164% ＋{C}％
ENDIF

;補正値が0以下の場合は1にする
SIF V < 0
	V = 1

PRINTFORML 最终倍率 {V}％

;補正値の適用
S *= V
S /= 100

;崩溃,疯癫,怀孕は報酬をかなり低くする（顺从によって、80％まで回復）
IF TALENT:A:9 || TALENT:A:141 || TALENT:A:153
PRINTL 
	IF TALENT:A:9
		S *= ABL:A:0
		TIMES S , 0.08
		Z = ABL:A:0
		Z *= 8
		PRINTFORML %TALENTNAME:9% ×{Z}％
	ELSEIF TALENT:A:141
		S *= ABL:A:0
		TIMES S , 0.08
		Z = ABL:A:0
		Z *= 8
		PRINTFORML %TALENTNAME:141% ×{Z}％
	ELSEIF TALENT:A:153
		S *= ABL:A:0
		TIMES S , 0.08
		Z = ABL:A:0
		Z *= 8
		PRINTFORML %TALENTNAME:153% ×{Z}％
	ENDIF
PRINTL 
ENDIF


;レンタル日数による補正
IF B == 1
	TIMES S , 0.60
ELSEIF B == 3
	TIMES S , 3.20
ELSEIF B == 5
	TIMES S , 5.40
ELSEIF B == 10
	TIMES S , 12.00
ENDIF

;避孕套の場合は、レンタル額にペナルティ補正がかかる
SIF D/B == 500
	TIMES S , 0.80


;困难度処理
;EASY
IF FLAG:4 == 1
	PRINTFORML 困难度:EASY ×120％
	TIMES S , 1.20
;NORMAL
ELSEIF FLAG:4 == 2
	TIMES S , 1.00
;HARD
ELSEIF FLAG:4 == 3
	PRINTFORML 困难度:HARD ×80％
	TIMES S , 0.80
ENDIF

;レンタルを実行するか？
IF S > 0
	PRINTFORML 出租金额为${S}
ELSE
	PRINTFORMW 出租金额在$0以下，中止行为
	RETURN 0
ENDIF
PRINTFORML 要将%CALLNAME:A%租赁出去吗？
PRINTL [0] -   租赁
PRINTL [100] - 放弃
$INPUT_LOOP_4
INPUT
IF RESULT == 0
    IF CFLAG:A:2404 == 1
        PRINTL
        PRINTFORML 房间里的%CALLNAME:A%被带出来了
        PRINTW
        CFLAG:A:2404 = 0
    ELSEIF CFLAG:A:2414 == 1
        C = 0
        REPEAT CHARANUM
            SIF CFLAG:COUNT:(NO:A+3000) == 1
                C = COUNT
        REND
        PRINTL
        PRINTFORML 在%CALLNAME:C%房间里的%CALLNAME:A%被带出来了
        PRINTW
        CFLAG:A:2414 = 0
        CFLAG:C:(NO:A+3000) = 0
        CFLAG:C:2404 = 0
    ENDIF
	PRINTFORML %CALLNAME:A%被租出去了
	IF D > 0
		PRINTFORML 避孕具的相关费用一共花了${D}
		MONEY -= D
	ENDIF
	CFLAG:A:12 = 1
	CFLAG:A:13 = DAY+B
	CFLAG:A:14 = B
	CFLAG:A:15 = S
	CFLAG:A:16 = D
	SIF A == TARGET
		TARGET = -1
	SIF A == ASSI
		ASSI = -1
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP_4
ENDIF


;レンタルの結果は返却時に処理
@RETURN_SLAVE
PRINTFORML %CALLNAME:A%回来了

;補完してたフラグを変数に代入
B = CFLAG:A:14
V = CFLAG:A:15
H = CFLAG:A:16

;体力の減少
;一日
SIF  B == 1
	BASE:A:0 -= 500
;三日
SIF  B == 3
	BASE:A:0 -= 800
;五日
SIF  B == 5
	BASE:A:0 -= 1000
;十日
SIF  B == 10
	BASE:A:0 -= 1500

;ストレス値の付加
CFLAG:A:10 += B

;经验、珠の加算処理
D = 0
E = 0
F = 0
G = 0
L = 0
;做爱系
;VとAのプ雷差
;男性はAのみ
IF TALENT:A:140
	D = ABL:A:5
	E = 0
	F = B
ELSEIF ABL:A:4 > ABL:A:5
	D = ABL:A:4-ABL:A:5
	E = (B+D/2)*3
	F = (B-D/2)*3
ELSE
	D = ABL:A:5-ABL:A:4
	E = (B-D/2)*3
	F = (B+D/2)*3
ENDIF
;男性か扶她か双性で、受でも孩童尺寸でもないとき
IF (TALENT:A:140 || TALENT:A:139 || TALENT:A:137) && TALENT:A:157 == 0 && TALENT:A:114 == 0
	D = ABL:A:2+ABL:A:3
	L = (B+D/3)*3
ENDIF
;奴隶が处女の場合
IF EXP:A:0 == 0 && TALENT:A:0
	E += 3
	G = 20
ENDIF
SIF E < 0
	E = 0
SIF F < 0
	F = 0
;奴隶が攻でない
IF TALENT:A:158 == 0
	EXP:A:0 += E
	EXP:A:1 += F
ELSE
	EXP:A:3 += H/3
ENDIF
EXP:A:2 += (E+F)/3
;扶她か男性、孩童尺寸でない
SIF (TALENT:A:137 || TALENT:A:139 || TALENT:A:140) && TALENT:A:114 == 0
	EXP:A:3 += (E+F)/3
EXP:A:4 += (E+F+H)
;内射经验
IF H == 0 && TALENT:A:158 == 0
	EXP:A:5 += E
	CFLAG:A:105 += E
ENDIF
;肛射经验
SIF H == 0 && TALENT:A:158 == 0
	EXP:A:8 += F
SIF TALENT:A:164
	CFLAG:A:105 += F
;奴隶が攻でない
IF TALENT:A:158 == 0
	JUEL:A:1 += E*50
	JUEL:A:2 += F*50
ELSE
	JUEL:A:0 += L*20
ENDIF
JUEL:A:6 += (E+F)*30
JUEL:A:8 += (E+F)*50
JUEL:A:100 += (E+F+G)*100/ABL:A:0

;侍奉系
EXP:A:20 += B*5
EXP:A:22 += B*5
EXP:A:25 += B*5
JUEL:A:5 += B*10
JUEL:A:8 += B*30
JUEL:A:100 += B*50/ABL:A:0

;ＳＭ系
IF ABL:A:9 >= ABL:A:10
	EXP:A:30 += B
	JUEL:A:10 += B*5
ENDIF
SIF ABL:A:10 > ABL:A:9
	EXP:A:32 += B
JUEL:A:8 += B*4
JUEL:A:100 += B*10/ABL:A:0


;イベント口上の表示
T = TARGET
TARGET = A
TFLAG:13 = 17
CALL KOJO_MESSAGE_EVENT
TARGET = T


PRINTFORML 【%CALLNAME:A%的经验和珠子】

;经验表示は一括で行う
SIF E > 0 && TALENT:A:158 == 0
	PRINTFORML %EXPNAME:0%＋{E}
SIF F > 0 && TALENT:A:158 == 0
	PRINTFORML %EXPNAME:1%＋{F}
SIF ((E+F)/3) > 0
	PRINTFORML %EXPNAME:2%＋{(E+F)/3}
SIF (TALENT:A:137 || TALENT:A:139 || TALENT:A:140) && TALENT:A:114 == 0 && ((E+F)/3) > 0
	PRINTFORML %EXPNAME:3%＋{(E+F)/3}
SIF (E+F+L) > 0
	PRINTFORML %EXPNAME:4%＋{(E+F+L)}
SIF H == 0 && E > 0 && TALENT:A:158 == 0
	PRINTFORML %EXPNAME:5%＋{E}
SIF H == 0 && F > 0 && TALENT:A:158 == 0
	PRINTFORML %EXPNAME:8%＋{F}
PRINTFORML %EXPNAME:20%＋{B*5}
PRINTFORML %EXPNAME:22%＋{B*5}
PRINTFORML %EXPNAME:25%＋{B*5}
SIF ABL:A:9 >= ABL:A:10
	PRINTFORML %EXPNAME:30%＋{B}
SIF ABL:A:10 > ABL:A:9
	PRINTFORML %EXPNAME:32%＋{B}
IF E > 0
	IF TALENT:A:0 && TALENT:A:158 == 0 
		PRINTFORML 处女丧失
		PRINTFORML %EXPNAME:50%＋2
		EXP:A:50 += 2
		TALENT:A:0 = 0
		CSTR:A:20 = 租借奴隶的客户
	ELSEIF TALENT:A:1 && TALENT:A:158 == 0
		PRINTFORML 再生处女丧失
		TALENT:A:1 = 0
		CSTR:A:20 = 租借奴隶的客户
	ENDIF
ENDIF
IF L > 0
	IF TALENT:A:160 && TALENT:A:157 == 0
		PRINTFORML 童贞丧失
		TALENT:A:160 = 0
		CSTR:A:21 = 租借奴隶的客户
	ENDIF
ENDIF
IF F > 0
	IF TALENT:A:161 && TALENT:A:158 == 0
		PRINTFORML 后庭处子丧失
		TALENT:A:161 = 0
		CSTR:A:22 = 租借奴隶的客户
	ENDIF
ENDIF
;珠表示も同様
SIF E > 0 && TALENT:A:158 == 0
	PRINTFORML %PALAMNAME:1%之珠＋{E*50}
SIF F > 0 && TALENT:A:158 == 0
	PRINTFORML %PALAMNAME:2%之珠＋{F*50}
PRINTFORML %PALAMNAME:5%之珠＋{B*5}
PRINTFORML %PALAMNAME:6%之珠＋{B*30}
PRINTFORML %PALAMNAME:8%之珠＋{B*50+B*30+B*4}
SIF ABL:A:9 >= ABL:A:10
	PRINTFORML %PALAMNAME:10%之珠＋{B*5}
PRINTFORML %PALAMNAME:100%之珠＋{((E+F+G)*100+B*60)/ABL:A:0}

;最後に金額の加算
PRINTFORMW 出租%CALLNAME:A%一共获得了${V}的收益
MONEY += V

;フラグの重置
CFLAG:A:12 = 0
CFLAG:A:13 = 0
CFLAG:A:14 = 0
CFLAG:A:15 = 0


RETURN 1



